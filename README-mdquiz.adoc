= Writing Assessments

== Installing the Infrastructure

1. `git pull`
2. `nvm use 22.5`
3. `npm install`
4. `npm update mdquiz`
5. You're ready to rock `./build-mdquiz` once you write an assessment!

== Writing an Assessment

=== Setting up the assessments folder inside of the lesson

1. An `assessments` folder can be added to any folder at the same level as `authoring`, `images`, `pages`, etc.
2. The only thing we will see inside the `assessments` folder is subfolders, each one for a single assessment
3. The folder for each assessment included in the lesson should be named to make it clear what the assessment is about / for.
  - This folder must contain a file named `/* quiz.json`
  - If an assessment uses images, they must be stored in this folder.

You can look at `lessons/Data-Science/histograms-visualize/langs/en-us/assessments` for an example.

=== Writing the `/* quiz.json` file

1. It begins with a title that will end up being student-facing.

2. Question Types:
  - We currently have two fully functional question types: "MultipleChoice" and "ShortAnswer". 
  - To insert a slide that does not ask a question, use the type "Informational".

3. Every question must include

   {
    "type": "",
    "prompt": {
        "prompt": ""
        },
    "answer": {
        "answer": ""
        }
    }

4. Images can be added to any field inline.      \n\n ![](./salary-lr-plot.png)

5.  MultipleChoice questions also include "distractors". By default the order of the distractors and answer is randomized. If an `answerIndex` is given, the answer will be located at that index and the remaining indices will be populated by the distractors, _in order_. (In the example below, the choices will be ordered as "8, 12, <answer>, 18. Removing `"answerIndex": 2` will randomize all the choices.)

    "prompt": {
        "prompt": "A teacher surveys her students on how many hours of TV they watch per week. (See display for results.)\n\nHow many students did the teacher survey? \n\n ![](./salary-lr-plot.png)",
        "distractors": [
          "8",
          "12",
          "18"
        ],
        "answerIndex": 2
      },

6. MultipleChoice Questions can also be used as Multiple Select / Multi Check questions by declaring more than one answer. _Here's an example from the dot-plots formative assessment._

"prompt": {"prompt": "Consider how the dot plot below would be different if the student named Sebastian weren’t in the class. Select each statement below that correctly describes a new dot plot of the class’ names without Sebastian. ![](./names2.png)",
              "distractors" : [
                "There are no gaps in the display."
              ]
          },
           "answer" : {
            "answer" : [
              "Without the dot representing Sebastian, the range is 4 letters.",
              "The most common name length (6 letters) is also the longest name length.",
              "Variability decreases."
            ]
          }

7. \n\n is used to insert a new line in the middle of a string.

8. This is how to **bold** something.

Below is an example of what the complete json might look like. 

[options="nowrap"]
  {
    "title": "Emmanuel's Demo Quiz",
    "questions": [
      {
        "type": "MultipleChoice",
        "prompt": {
          "prompt": "What does it mean if a variable `x` is immutable?\n",
          "distractors": [
            "`x` is stored in the immutable region of memory.",
            "After being defined, `x` can be changed at most once.",
            "You cannot create a reference to `x`.![alt text](./react.svg 'react logo')"
          ]
        },
        "answer": {
            "answer": "`x` cannot be changed after being assigned to a value."
        }
      },
      {
          "type": "ShortAnswer",
          "prompt": {
              "prompt": "What is the keyword used after `let` to indicate that a variable can be mutated?      \n\n ![](./react.svg)"
          },
          "answer": {
              "answer": "mut"
          }
      },
      {
          "type": "Informational",
          "prompt": {
              "prompt": "Hello! Good news! This is just a poster, no questions to answer.\n\n ![](https://www.bootstrapworld.org/images/icon.png)"
          }
      }
    ]
  }

There is one more question type called Multi-part, but it can only be used for assessments that have a single question! For this question type, whatever you write in multipart will appear on every slide.

[options="nowrap"]
"multipart": {
    "q": "Twenty-nine individuals are represented by the points in the chart below.\nThe x-axis indicates the number of years worked for a particular company, and the y-axis represents salary.\n\nThe questions on the next 3 slides will focus on this chart.\n\n ![](./salary-lr-plot.png)"
  },
  "questions": [
    {
      "type": "MultipleChoice",
      "multipart": "q",
      "prompt": {
        "prompt": "Individuals at this company should expect that their salaries will increase about ____ every 2 years.",
       
        "distractors": [
          "$20,000",
          "$30,000",
          "$40,000"
        ],
        "answerIndex": 0
      },
      "answer": {
        "answer": "$10,000"
      }
    },
    {
      "type": "MultipleChoice",
      "multipart": "q",
      "prompt": {
        "prompt": "Use the predictor function to calculate how much money you expect would an employee with 15 years of experience to earn.",
        "distractors": [
          "$142,000",
          "$194,000",
          "$372,000"
        ],
        "answerIndex": 1
      },
      "answer": {
        "answer": "$167,000"
      }
    },
    {
      "type": "MultipleChoice",
      "multipart": "q",
      "prompt": {
        "prompt": "Use the predictor function to determine about how much money would you expect an employee with no experience to earn.",
        "distractors": [
          "$0",
          "$15,000",
          "$20,000"
        ],
        "answerIndex": 3
      },
      "answer": {
        "answer": "$25,000"
      }
    }
  ]
     


=== To build your quiz

1. Type `./build-mdquiz` in your terminal.
  - If you get an error like the following one `The quiz.json file inside distribution/en-us/lessons/measures-of-center/assessments/mean-median-modes-checkin is not valid JSON!`
    ** Open a browser window and type "json validator" or navigate directly to https://jsonlint.com/
    ** Select All and copy the contents of your `/* quiz.json` file. 
    ** Paste the full contents of the document into the json validator. 
    ** Click "validate" and it will identify the first issue with the file. Identify and repeat validation until you get a "JSON is valid!" message.
    ** Update the file in sublime and rerun `./build-mdquiz`.
2. Navigate to `distribution/lessons/name-of-lesson/assessments/name-of-assessment/index.html`

You'll see a webpage pop up. It will say:

Quiz +
# of questions +
Start

When you click Start you will see the first question and you will need to enter a bogus answer (just choose A) in order to see the next question.

After you complete the quiz you will see a summary of the quiz.



  
