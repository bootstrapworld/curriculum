= Standard Deviation

@description{Students learn how standard deviation serves as Data Scientists' most common measure of "spread": how far all the values in a data set tend to be from their mean. When we looked at box plots, we visualized spread based on range and interquartile range. Now we’ll return to histograms and picture the spread in terms of standard deviation.}

@lesson-prereqs{box-plots}

@keywords{Standard Deviation, StdDev}

[@lesson-intro-table]
|===
| Lesson Goals
| Students will be able to...

- apply one approach to measuring and displaying spread of a data set
- compare and contrast information displayed in a box plot and a histogram

| Student-facing Lesson Goals
|

* Let’s compare different uses for box plots and histograms when talking about data.

| Materials
|[.materials-links]
* @link{https://docs.google.com/presentation, Lesson Slides}

@material-links

| Preparation
| @preparation

|===

== Measuring "Deviance" @duration{30 minutes}

=== Overview
Students review the notion of spread itself, and build up to the formula by annotating histograms.

=== Launch
[.lesson-instruction]
* When should we use the @vocab{mean} instead of the median?
** When there isn't much skew.
* In that situation, _why_ should we use the mean instead of the median?
** Because the mean includes data from every value, instead of just one or two values.

When summarizing a column, we'd like to use a measure that gathers data from every value. Sometimes we can't - like when the data is heavily skewed - but otherwise that's our preference.

We already have one method of measuring spread: calculating the Five Number Summary, and then using it to generate the @vocab{Range of a dataset} and the @vocab{Interquartile Range}. These five numbers can be visualized as a box-plot, and give us a sense for how the data is spread out. Unfortunately, that measure of spread relies on _just five numbers_, and doesn't take any other datapoints into account. It's a lot like using the median when we could be using the mean.

Fortunately, there's another measure we can use! By far the most useful way to summarize the center and @vocab{spread} of a quantitative data set is to report its @vocab{mean} and @vocab{standard deviation}.

[.lesson-point]
The Animal Shelter Bureau reports that the mean age of shelter cats is 3 years.

[.lesson-instruction]
- Can you think of four ages, such that the mean age for all of them is 3?
- Can you think of a _different_ spread of four ages that would have the same mean?
- How many can you think of?

There are all sorts of data sets that have a mean of 3. We could imagine a shelter where every cat is between 1 and 5, so each cat only deviates from the mean by 1-2 years! But we could also imagine a shelter with lots of kittens and old cats, where every cat deviates by as much as 10 years from the mean!

Instead of focusing on the five datapoints used in our Five Number Summary, another way to measure spread is to focus on _the "typical" distance from the mean_. @right{@image{images/histogram-with-mean.png, "A histogram showing the distribution of ages for 10 cats, between the ages of 1 and 8. The mean is labeled at 3.", 450}} In other words, we want to know what kind of deviation is "standard" for all the points. +

A set of 10 shelter cats, as shown in the histogram here, has a *mean age of 3*. Looking at the histogram for ten cat ages, it makes sense that they average out to 3: the intervals run from 1 to 8, and there are more values in the bottom half of the intervals than in the top half so we'd expect the mean to be slightly lower than 4.

=== Investigate
Now that you’ve thought about individual distances from the mean, it’s time to think about rolling all of these distances into one "typical" distance.

[.lesson-instruction]
Complete numbers 1-5 of @printable-exercise{std-dev-cat-age.adoc}.

@right{@image{images/histogram-w-mean.png, "A histogram showing the distribution of ages for 10 cats, between the ages of 1 and 8. An arrow is superimposed, pointing to the mean at 3.", 450}} In this image, we've drawn an arrow to the mean at 3.

How far away is each data point from 3?

@clear

@right{@image{images/histogram-w-arrows.png, "A histogram showing the distribution of ages for 10 cats, between the ages of 1 and 8. An arrow points to the mean at 3, and more arrows show the distance between the mean and each poin in the first interval.", 450}} In this image, we've draw an arrow for each of the 1-year-old cats. That means there are four arrows running from the mean at 3 to the interval at 1, and each arrow has the label 2.

[.lesson-instruction]
--
Complete numbers 6 and 7 of @printable-exercise{std-dev-cat-age.adoc}. Now we need to stretch our visual imagination a bit!

- We want to summarize all 10 distances from the mean into a single number. Which one of these seems closest: 1, 2, 4, or 5?
- Why did you choose the number you did?
--

The actual formula for computing standard deviation involves squaring each of those distances, adding all the squares together, and then taking the square root of the sum. Can you think of any other time you've had to take the square root of a sum-of-squared-distances? (_HINT: think right triangles...)_

[.lesson-instruction]
Complete numbers 8-10 of @printable-exercise{std-dev-cat-age.adoc}.

=== Synthesize
- Can you explain why two datasets can have the same mean, but different standard deviations?
- What kind of dataset would have a standard deviation of zero?

== Comparing Standard Deviations @duration{10 minutes}

=== Overview
Students compare centers and (more importantly) spreads - of two quantitative data sets by comparing their histograms. Both mean and standard deviation can be affected by outliers and/or skewness.

=== Launch
Below is the contract for `stdev`, along with an example that will calculate the standard deviation for the `pounds` column in the animals-table:

```
# stdev :: (t :: Table, col :: String) -> Number
stdev(animals-table, "pounds")
```

What is the standard deviation for the weights of _all_ the animals at our dataset?

[.lesson-instruction]
- Make a histogram showing the ages of *all the cats* in the dataset.
- What is the shape of this histogram?
- How does it differ from the one we just looked at?

@right{@image{images/histogram-with-outlier.png, "A histogram showing the distribution of ages for 10 cats, between the ages of 1 and 8. An 11th cat has been added at 16 years.", 450}} Here is the same histogram we saw before, but now with an 11th cat that is 16 years old. That's quite an outlier!

[.lesson-instruction]
- What will this outlier do to the mean?
- What will this outlier do to the standard deviation?

=== Investigate
[.lesson-instruction]
- Turn to @printable-exercise{pages/effect-of-an-outlier.adoc} to explore the extent to which the inclusion of an outlier will affect the center and spread of a quantitative data set.
- OPTIONAL: To see how changes in data values affect the mean and standard deviation, complete @opt-printable-exercise{pages/match-mean-stdev-to-dataset.adoc}.

=== Synthesize
- How much did adding an outlier change the mean? The standard deviation?
- Extreme values affect both the mean and standard deviation of a data set.
- Unusually low values _decrease_ the mean, while unusually high values _increase_ it. Unusually low or high values increase the standard deviation, because it summarizes distance from the mean in either direction.

== Your Analysis @duration{flexible}

=== Overview
Students repeat the previous activity, this time applying it to their own dataset and interpreting their own results. *Note: this activity can be done briefly as a homework assignment, but we recommend giving students an _additional class period_ to work on this.*

=== Investigate

[.lesson-instruction]
- Fill out @printable-exercise{pages/analysis-stdev.adoc} in your Student Workbook. Choose one of the columns you explored with box-plots and measures of center, and look at the standard deviation of that column.
- Add your findings to the research paper.


=== Synthesize
Have students share their findings with one another.


== Additional Exercises:
- @opt-printable-exercise{pages/match-mean-stdev-to-dataset.adoc}
