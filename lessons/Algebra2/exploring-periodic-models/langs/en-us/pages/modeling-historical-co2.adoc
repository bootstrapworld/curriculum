= Modeling Historical Carbon Dioxide Levels
++++
<style>
td { padding: 0 !important; }
td .autonum::after { content: ')' !important; }
td .codetwo { color: black; background: none; }
table table td { color: inherit !important; padding: 3px 0 !important; }
body .center { padding: 0; }
.directions p { line-height: 1.75 !important; }
.fitb { min-width: 2em; }
.studentAnswerMedium { min-width: 83pt !important; }
</style>
++++

@define{COtwo}{@math{\mbox{CO}_2}}

@link-instructions{
The data below was generated from the @starter-file{alg2-co2}, showing the amount of @COtwo in the atmosphere (parts per million) on specific dates from December 2022 to November 2023. *NOTE:* the `date` column is the *decimal year* (so "June 15th, 2023" would be 2023.5).
}

@vspace{1ex}

@center{@image{../images/historical-scatter-plot.png, 650}}


@n What @vocab{form} do you see here? @fitb{}{@ifsoln{Linear}}

@n Use Pyret's `lr-plot` to find the optimal linear model, and write it below (using Pyret or Function Notation):

@vspace{1ex}

[cols="1a, ^.^12a", frame="none", stripes="none"]
|===
| *Function Notation*
|

@math{f(x) =} @fitbruby{70pt}{@ifsoln{1.8345}}{slope}x + @fitbruby{10em}{@ifsoln{-3296}}{y-intercept / vertical shift}
| @vspace{1ex} +
*Pyret Notation*
|
@show{(code '(define (f x) (+ (* (?ANS 1.8345) x)(?ANS -3296))))}
|===

@vspace{1ex}

@n Define this function in Pyret, and use `fit-model` to compute the @math{S}-value of the model: @fitbruby{10em}{@ifsoln{3.425}}{parts per million}

@n Could this linear model be improved, by combining it with your periodic model? Why or why not? @fitb{}{} +
@fitb{}{} +
@fitb{}{} +

@vspace{1ex}

@star Try to define a NEW function `p` in Pyret, which combines your periodic model with the one computed through linear regression. What is the best @math{S}-value you can get? @fitbruby{10em}{@ifsoln{3.024}}{parts per million} Write your new model below, in Function or Pyret notation:

@fitb{}{@ifsoln{fun p(x): (4.13 * sin(6.28 * (x - 2023.1))) + (1.8345 * x) + -3296 end
@hspace{2em} **OR** @hspace{2em} @math{p(x) = 4.13 * sin(6.28(x - 2023.1))) + 1.8345x + -3296}  }}
