= Filtering by State
++++
<style>
body.workbookpage td .autonum::after { content: ')' !important; }
td:last-child { padding-top: 0; padding-bottom: 0; }
body .center { padding: 0; }
</style>
++++
_For this page, you'll need to have the @starter-file{alg2-covid} open on your computer. If you haven't already, select **Save a Copy** from the "File" menu to make a copy of the file that's just for you._

@n Use `lr-plot` to obtain the best-possible linear model for the relationship between `day` and `positive` in the `covid-table`.

What do you notice about the line? @fitb{}{} 

@fitb{}{}

@n What is the @math{R^2} value? @fitb{10em}{@ifsoln{0.07983}} and what does it tell us about the model? @fitb{}{@ifsoln{this model is not a good fit for the data}}

@fitb{}{}

@n Find the function called `is-MA` (under "Define some helper functions" in your Pyret file). Read the comments carefully!

What is the *Domain* of `is-MA`? @fitb{20em}{@ifsoln{Row}} Its *Range*? @fitb{}{@ifsoln{Boolean}}

@n What do you _think_ @show{(code '(is-MA MA1))} will evalute to? @fitb{7em}{@ifsoln{true}}. @show{(code '(is-MA CT1))}? @fitb{7em}{@ifsoln{false}}. @show{(code '(is-MA ME1))}? @fitb{}{@ifsoln{false}}

@vspace{3ex}

@center{**Try typing each of these into the Interactions Area on the right. Were you correct?**}

@vspace{3ex}

@n Find `MA-table` in the Definitions Area _(the first definition under "Define some grouped and/or random samples" in your Pyret file)_. +
What is that code doing? @fitb{}{} +
@fitb{}{@ifsoln{Defining a new table called `MA-table`, which is all the rows from our original table where state is "MA"}}

@n Type `MA-table` into the Interactions Area. What does it evaluate to? @fitb{}{@ifsoln{A Table just for data from Massachusetts}}

@n Use `lr-plot` to obtain the best-possible linear model for the relationship between `day` and `positive` in the `MA-table`.

@n What is the @math{R^2} value? @fitb{10em}{@ifsoln{0.69996}} and what does it tell us about the model? @fitb{}{@ifsoln{this model fits pretty well for MA!}}

@fitb{}{}

@n Using the code for `is-MA` and `MA-table` as a reference, **define a new function** `is-VT`, and use it to **create a new grouped sample** called `VT-table`.

@n What is the @math{R^2} value? @fitb{10em}{@ifsoln{0.67333}} and what does it tell us about the model? @fitb{}{@ifsoln{this model fits pretty well for VT!}}

@n Why do these state-specific models fit so well, when model for all of New England fits so poorly?

@fitb{}{@ifsoln{The data for each state behaves so differently from the others that no model fits all the points well}}

@fitb{}{}

@fitb{}{}
