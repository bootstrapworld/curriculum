= Filtering by State
++++
<style>
body.workbookpage td .autonum::after { content: ')' !important; }
td:last-child { padding-top: 0; padding-bottom: 0; }
body .center { padding: 0; }
</style>
++++

[.linkInstructions]
For this page, you'll need to have the @starter-file{alg2-covid} open on your computer. If you haven't already, select *Save a Copy* from the "File" menu to make a copy of the file that's just for you.

@n Use `lr-plot` to obtain the best-possible linear model for the relationship between `day` and `positive` in the `covid-table`.

@hspace{3em}+a.+ What do you notice about the line? @fitb{}{} 

@hspace{3em}@fitb{}{}

@hspace{3em}+b.+ What is the @math{S}-value? @fitb{10em}{@ifsoln{5.80e4}} and what does it tell us about the model? @hspace{3em}@fitb{}{@ifsoln{this model is not a good fit for the data}}

@hspace{3em}@fitb{}{}

@n Find the function called `is-MA` _in the Definitions Area under "Define some helper functions"_. Read the comments carefully!

@hspace{3em}+a.+ What is the *Domain* of `is-MA`? @fitb{20em}{@ifsoln{Row}} Its *Range*? @fitb{}{@ifsoln{Boolean}}

@hspace{3em}+b.+ What do you _think_ @show{(code '(is-MA MA1))} will evalute to? @fitb{7em}{@ifsoln{true}}. @show{(code '(is-MA CT1))}? @fitb{7em}{@ifsoln{false}}. @show{(code '(is-MA ME1))}? @fitb{}{@ifsoln{false}}

@vspace{3ex}

@hspace{3em}_Try typing each of these helper functions into the Interactions Area on the right and confirm you were correct._

@vspace{3ex}

@n Find `MA-table` _in the Definitions Area under "Define some grouped and/or random samples"_. 

@hspace{3em}+a.+ What is that code doing? @fitb{}{} 
@hspace{3em}@fitb{}{@ifsoln{Defining a new table called `MA-table`, which is all the rows from our original table where state is "MA"}}

@hspace{3em}+b.+ Type `MA-table` into the Interactions Area. What does it evaluate to? @fitb{}{@ifsoln{A Table just for data from Massachusetts}}

@n Use `lr-plot` to obtain the best-possible linear model for the relationship between `day` and `positive` in the `MA-table`.

@hspace{3em}+a.+ What is the @math{S}-value? @fitb{10em}{@ifsoln{3.18e4}} +
@hspace{3em}+b.+ What does it tell us about the model? @fitb{}{@ifsoln{this model fits pretty well for MA!}}

@n Using the code for `is-MA` and `MA-table` as a model, *define a new function* `is-VT` and *create a grouped sample* called `VT-table`. +
@hspace{3em}Use `lr-plot` to obtain the best-possible linear model for the relationship between `day` and `positive` in the `VT-table`.


@hspace{3em}+a.+ What is the @math{S}-value? @fitb{10em}{@ifsoln{~825.96}} +
@hspace{3em}+b.+ What does it tell us about the model? @fitb{}{@ifsoln{this model fits pretty well for VT!}}

@n Why do these state-specific models fit so well, when model for all of New England fits so poorly?

@fitb{}{@ifsoln{The data for each state behaves so differently from the others that no model fits all the points well}}

@fitb{}{}
