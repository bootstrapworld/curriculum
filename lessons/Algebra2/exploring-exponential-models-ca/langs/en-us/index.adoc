[.beta]
= Exploring Exponential Models (CA only)

@description{Students use exponential models to investigate relationships in data about minimum wage and median rent in California using an inquiry-based approach, involving hypothesizing, experimental and computational modeling, and sense-making.}

@keywords{exponential, square, coefficient}

@lesson-prereqs{exploring-linear-models-ca}

[@lesson-intro-table]
|===

| Lesson Goals
| Students will be able to...

@objectives
@objective{interpret-real-world-scatter-plot}
- Recognize exponential growth in tables and graphs
- Model exponential relationships using functions

| Student-facing Lesson Goals
|

- Let's use Pyret to model exponential relationships in data
- Let's use Pyret to filter a dataset into subsets

| Materials
|[.materials-links]
@material-links

|===

== Looking for Patterns	@duration{45 minutes}

=== Overview

Students explore the relationship between `wage` and `year` in the `ca-table`, trying to fit different kinds of models to it. This section makes heavy use of interactive slider activities we've built in Desmos to support open-ended experimentation.

=== Launch

@lesson-instruction{
- Open the @starter-file{alg2-ca-rent}.
- Make a scatter-plot showing the `wage` v. `year`, using `adj-wage` as the labels.
- What kind of model do you think would fit this best?
- Use `lr-plot` to show the best possible linear model. How well does this model fit?
}

++++
<style>
.growth td { padding: 0; }
</style>
++++

Let's review what we know about the behavior of the models we've seen so far:

@right{@image{images/difference-table-linear.png}}Remember that linear functions grow by _fixed intervals,_ so the rate of change is _constant_. In the table shown here, each time the x-value increases by 1, we see that the y-value increases by 2. This is true for any set of equal-sized intervals: a line needs to slope up or down at a constant rate in order to be a straight line! +
*If the "growth" is constant, the relationship is linear.*

@clear
@slidebreak

@right{@image{images/difference-table-quadratic.png}}You may also be familiar with _quadratic models._ Quadratic functions grow by intervals that _increase by fixed amounts!_ In the table to the right, the blue arrows show a differently-sized jump between identical intervals, meaning _the function is definitely not linear!_ However, if we take a look at the _difference between those differences_(shown in red), we're back to constant growth! +
*If the "growth of the growth" is constant, the relationship is quadratic.*

@clear

There is, however, a class of functions that grows even faster than quadratics: @vocab{exponential functions}.

@slidebreak

@right{@image{images/difference-table-exponential-1.png}}If we try to calculate the growth between the y-values, we can immediately tell it's not linear. But then if we try to calculate the "growth of the growth", we see that it's not quadratic either. +
{empty} +
Even if we calculate the "growth of the _growth of the growth_" (shown in green)... we still haven't found a constant. In fact, each of these "growths" just repeats the original pattern of y-values! +
{empty} +
Something is making this function grow *so fast* that our attempt to calculate the rate of change fails to simplify anything.

@clear
@slidebreak

@right{@image{images/difference-table-exponential-2.png}} +
Exponential functions grow so rapidly that looking for "what is _added_ to y?" isn't helpful at all. +
{empty} +
The only way to talk about their growth is to start noticing "what is y being _multiplied_ by?", also known as the @vocab{growth factor}. +
{empty} +
*In this case, we can see that the y-values are doubling each time*, so the @vocab{growth factor} is 2!

@clear
@slidebreak

@lesson-instruction{
- Complete @printable-exercise{classifying-tables.adoc}
- Be ready to discuss your answers with the class!
}

=== Investigate

We generally write exponential functions like this: @math{f(x) = ab^x + k}. +
Let's explore what each coefficient means!

@teacher{Make sure you've advanced your teacher dashboard of @starter-file{alg2-ca-rent-desmos} to the third slide so that students are looking at the correct screen.}

@lesson-instruction{
Use the first slide of @starter-file{alg2-ca-rent-desmos} to complete the first section ("base") of @printable-exercise{graphing-models.adoc}.
}

@teacher{
Review students answers, and then debrief via class discussion. Invite students to consider what new information they have gained by looking at graphical representations rather than tables.}

@slidebreak

*The base of an exponential function (@math{b})* must *always be positive*, because exponential functions grow and decay uniformly. A negative @math{b} would bounce from one side of the y-axis to another. When raised to a fractional power, negative values of @math{b} might also lead to things like @math{\sqrt{-2}}!

[cols="^3a,^3a,^3a", stripes="none", options="header"]
|===
| Exponential Growth
| Flat
| Exponential Decay

| @image{images/growth.png, 150}
| @image{images/flat.png, 150}
| @image{images/decay.png, 150}

| @math{b > 1} +
When the base is *larger* than 1, the function starts flat and then grows by the "percentage greater than 1". A base of 1.25 - @math{(1 + 0.25)} - will grow by 25% each time @math{x} grows by 1. In this instance, the base is also called the @vocab{growth factor}, since it determines how quickly the function grows.

| @math{b = 1} +
When the base is *equal* to 1, the function stays flat without any growth of all (raising 1 to _any_ power will always produce 1!).

| @math{0 < b < 1} +
When the base is *smaller* than 1, the function shrinks by the "amount less than 1". A base of 0.25 - or @math{(1 - 0.75)} - will shrink by 75% each time @math{x} grows by 1. In this instance, the base is also called the @vocab{decay factor}, since it determines how quickly the function shrinks.
|===

@slidebreak

@lesson-instruction{
Use the first slide of @starter-file{alg2-ca-rent-desmos} to complete the second section ("vertical shift") of @printable-exercise{graphing-models.adoc}.
}

An exponential function with a @vocab{growth factor} will always start close to a horizontal line, then gradually shoot up to ever-increasing values. An exponential function with a @vocab{decay factor} will drop quickly, then level out close to a horizontal line. This horizontal line is called an @vocab{asymptote}, and the equation of the line will always be @math{y = k}. 

@slidebreak

*Adjusting @math{k} shifts the asymptote up and down*, along with the rest of the exponential curve that approaches it.

@lesson-instruction{
Use the first slide of @starter-file{alg2-ca-rent-desmos} to complete the last section ("initial value") of @printable-exercise{graphing-models.adoc}.
}

@slidebreak

*The y-intercept appears _differently_ in exponential function definitions than in linear and quadratic definitions:*

- In both linear and quadratic functions, we could cross out the linear or quadratic term when @math{x = 0} (because anything multiplied by zero is zero) and the constant term being added or subtracted in the equation was our y-intercept. 
- But, because any value raised to the power of zero is 1, when @math{x = 0} in exponential equations, part of the exponential term _remains_, for example: @hspace{2em} @math{4(2^0) = 4(1) = 4}. 
- As a result, *the y-intercept of an exponential function is @math{a + k}*.
- When there is no @math{k}-term being added or subtracted, the coefficient @math{a} is the initial value where @math{x = 0}. 
- And, if @math{a} is "missing", the value of the coefficient is @math{1}. @hspace{2em}_After all,_ @math{2^x = 1(2^x)} +
That means that if we don't see @math{a} or @math{k} in an exponential equation, the y-intercept of the function is 1.

@slidebreak

@vocab{Exponential growth} and @vocab{exponential decay} show up all the time!

- Most cells (e.g. bacteria, the cells in a growing fetus, etc) divide every few hours, doubling the number of cells each time. A single cell will split into 2, those 2 cells will split to become 4, which will become 8, then 16, and so on.
- Unstable particles degrade into stable particles over time, emitting radiation as a byproduct. We use the term _half-life_ to refer to the length of time it takes for 50% of the particles in a sample to become stable, leaving behind the other half as radiation-emitting material.
- Money in a savings account grows by a certain percentage each year. 3% growth on $100 would turn into $103. The next year that would become $106.09. And the next year $109.27. Every year there's a little more money to grow. If you start saving early, the account will grow into quite a lot more money down the road.

@teacher{In the following two activities, students will decide whether various scenarios and definitions represent quadratic, linear, or exponential functions. They will also have opportunities to think about and apply their knowledge of growth, decay, initial value, and growth factor.}

@slidebreak

@lesson-instruction{
- Complete @printable-exercise{classifying-descriptions.adoc}.
- What strategies did you use to decide if a function was linear, quadratic, or exponential?
- What new insights did you gain about exponential functions by thinking about them in real-world scenarios?
}

@teacher{Have students share their answers, asking them to notice and wonder about the sequences for the exponential examples. How are these sequences growing or decaying? How is that growth or decay different from what they've seen before? }

=== Synthesize

- You looked at several different representations of exponential functions: tables, graphs, descriptions, and equations.
- Which representation was the _most_ useful for you? Why?
- Which representation was the _least_ useful for you? Why?

== Fitting Exponential Models 	@duration{30 minutes}

=== Overview

Students extend their sampling techniques to exponential relationships. Students continue experimenting in Desmos, but eventually switch back to Pyret to formalize their understanding.

=== Launch

Now that you're familiar with exponential functions, let's use them to model this wage data!

@slidebreak

@teacher{Direct students to create a scatter plot showing the change in wage for `ca-table`. Then, support them in making educated guesses about the values of @math{a}, @math{b}, and @math{k}. Have students respond to the discussion questions below in pairs or small groups.}

@QandA{
@Q{Does your scatter plot show exponential growth or exponential decay?}
@A{The scatter plot shows growth. The "hockey stick" is pointing up, meaning that positive cases are increasing.}
@Q{Can we make any conclusions about the value of @math{b}? Explain.}
@A{Because we see exponential growth, we know that @math{b} must be greater than one.}
@Q{Can we make any conclusions about the value of @math{k}?}
@Q{Can we make any conclusions about the value of @math{a}? Explain.}
@A{@math{a} must be positive, because the curve is consistently above @math{k}.}
}

=== Investigate

@teacher{Make sure you've advanced your teacher dashboard of @starter-file{alg2-ca-rent-desmos} to the second slide so that students are looking at the correct screen. In the next activity, students use Desmos to find promising exponential models, and then fit the model programmatically in Pyret!}

@lesson-instruction{
- Open to the second slide of @starter-file{alg2-ca-rent-desmos}, and complete the first section of @printable-exercise{exponential-models.adoc}.
- Use your saved @starter-file{alg2-ca-rent} to complete the rest of the page.
- Is an exponential model a good fit for this data? Why or why not?
}

@strategy{Precision v. Efficiency in Computation}{

On @printable-exercise{exponential-models.adoc} you'll see a note about the use of `~1` to tell Pyret to prioritize speed over precision. Unlike most calculators that students will engage with, Pyret usually prioritizes precision.

In a math classroom, this is the difference between @math{\frac{2}{3}} rendering as @math{ 0.\overline{666}} or being rounded to 0.666666667.

In data processing, opting to round for speed over preserving precision can have ethical or technical consequences. For example:

1) When calculating a path over an extremely long distance, missing decimal places could result in the Mars Rover missing its destination.

2) For an extremely large population like China, rounding to 10 decimal places might result in discounting an entire sub-population!
}

=== Synthesize

- What makes exponential models different from the linear and quadratic models you've seen before?
- How would you describe the shape of the three models you've seen so far (Linear, Quadratic, and Exponential)?
- Is it always okay for Data Scientists to round off their numbers to speed up computation? Why or why not?


