= Better Modeling: Adjusted Minimum Wage v. Year
++++
<style>
.studentAnswerMedium { min-width: 8em !important; }
td { padding: 0 !important; }
body.workbookpage .fitbruby { padding-top: 1.1rem; }
.center { padding: 0; }
</style>
++++

_Open your copy of the @starter-file{alg2-ca-rent}._

== Build a Model through Trial {amp} Error
In the `# Define some rows` section, look closely at the definitions for `data1` and `data2`.

*Add two new definitions for 2000 and 2020, calling them `data3` and `data4`.*

@n Record the `adj-wage` and `year` values for `data3` and `data4`, as @math{(x,y)} pairs below:

@center{
 (@fitbruby{10em}{@ifsoln{2000}}{data3 year}, @fitbruby{10em}{@ifsoln{9.77}}{data3 adj-wage}) @hspace{10em} (@fitbruby{10em}{@ifsoln{2020}}{data4 year}, @fitbruby{12em}{@ifsoln{13.57}}{data4 adj-wage})
}

@n Derive the `2000-2020 model` (using the same steps you followed to derive the `1940-1950 model` on @printable-exercise{model-wage-v-year-2.adoc}) and write it below (in both Function and Pyret notation), then fit the model and record the @math{S}-value:

@vspace{13ex}

@center{
 @math{g(x) =} @fitbruby{8em}{@ifsoln{0.19}}{slope}x + @fitbruby{8em}{@ifsoln{-370.23}}{y-intercept} @hspace{3em} @show{(code '(define (g x) (+ (* (?ANS 0.19) x) (?ANS -370.23))))} @hspace{3em} @math{S}: @fitb{}{@ifsoln{~6.948}}
}

@vspace{1ex}

@n Identify two other years that you think would make a better model: @fitb{13em}{} and @fitb{13em}{}.

- _Add two new definitions for these years to your @starter-file{alg2-ca-rent}._

@n Record the `adj-wage` and `year` values for these points, as (x,y) pairs below:

@center{
 (@fitbruby{10em}{}{year}, @fitbruby{10em}{}{adj-wage}) @hspace{10em} (@fitbruby{10em}{}{year}, @fitbruby{12em}{}{adj-wage})
}

@n Derive your model and write it below (in both Function and Pyret notation), then fit the model and record the @math{S}-value:

@vspace{13ex}

@center{
 @math{h(x) =} @fitbruby{8em}{}{slope}x + @fitbruby{8em}{}{y-intercept} @hspace{3em} @show{(code '(define (h x) (+ (* (?ANS "varies") x) (?ANS "varies"))))} @hspace{3em} @math{S}:@fitb{}{}
}

@n Adjust the slope and y-intercept of your model to get the *smallest @math{S} possible.* Write the best model (and @math{S}) below:

@center{
 @math{best(x) =} @fitbruby{7em}{}{slope}x + @fitbruby{7em}{}{y-intercept} @hspace{3em} @show{(code '(define (best x) (+ (* (?ANS "will vary") x) (?ANS "will vary"))))} @hspace{3em} @math{S}: @fitb{}{}
}

== Build a Model Computationally

`lr-plot` computes the _optimal linear model_ using all of the data points.

@n Evaluate @show{(code '(lr-plot ca-table "year" "year" "adj-wage"))}. What is @math{S}? @fitb{5em}{@ifsoln{~1.53}}

@n On the line below, write the optimal linear model that was computed through linear regression:

@center{
 @math{optimal(x) =} @fitbruby{8em}{@ifsoln{@math{0.0523}}}{slope}x + @fitbruby{8em}{@ifsoln{-92.9}}{y-intercept} @hspace{5em} @show{(code '(define (optimal x) (+ (* (?ANS 0.0523) x) (?ANS -92.9))))}
}

