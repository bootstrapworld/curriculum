= Fitting Quadratic Models
++++
<style>
.lesson-instruction table .autonum { font-weight: bold; }
</style>
++++
@description{}

@lesson-prereqs{quadratic2-building-models}

@keywords{quadratic, square, coefficient}

[@lesson-intro-table]
|===

| Lesson Goals
| Students will be able to...

-

| Student-facing Lesson Goals
|

- Let's use Pyret to model quadratic relationships in data.


| Materials
|[.materials-links]
@material-links

| Preparation
|
@preparation{
- Much of the exploration in this lesson hinges on a custom-built interactive Desmos activity. +
You will want to:
 * Open @starter-file{alg2-exploring-quadratics-desmos}.
 * Make a link or code to share with your students.
 * Decide how you will share the link or code with students and, if you are using our Google Slides, add the appropriate link to the slide deck.
- _If you're a first-time Desmos user, fear not!_ @dist-link{pages/desmos-instructions.adoc, _Here's what you need to do._}
}

| Key Points For The Facilitator
|
-
|===

== Fitting Quadratic Models
@objective{model-fit-function}

=== Overview
Students work with the vertex form to fit a quadratic model for the Fuel Efficiency dataset. They extend the model-fitting techniques from the @lesson-link{linear3-fitting-models} lesson into quadratic relationships and explore the @math{f(x) = a(x âˆ’ h)^2 + k} form of quadratic models using a custom Desmos slider activity.

=== Launch

*Let's try to build the best possible quadratic model we can for our Fuel Efficiency dataset.*

We've been talking about coefficients and vocabulary for quadratic functions that look a lot like the ones you might see in a textbook: clean and predictable. Real-world data, however, is messy! Let's return to our @starter-file{alg2-fuel-efficiency} to dig into that messiness.

@slidebreak

@lesson-instruction{
- A scatter plot of the fuel efficiency data has the familiar "rise and fall" pattern of a parabola... but there appears to be a "dip" around 40mph.
- Does that mean we shouldn't use a quadratic model for the relationship between speed and fuel efficiency? Why or why not?
  * _Have students discuss and share back with the class._
  * _If necessary, remind students that *models are - by definition - approximations of the real world*._
}

The existence of a "dip" like this is normal in real data, but it doesn't mean that the overall shape of this relationship isn't quadratic. _There's no such thing as a perfect model!_

@slidebreak
Now that we know how @math{a}, @math{h}, and @math{k} shape a parabola, let's work on modelling our data!

@scrub{
We're going to compute a quadratic function from 3 points. While it would be most accurate to keep track of decimal values, for today we are going to simplify our calculations by doing some rounding.

- Start by choosing 3 representative whole-coordinate points from the scatter plot.
  * a best guess at the where a curve summarizing the cluster would cross the y-axis
  * a point from the middle of the curve
  * a representative point toward the right side of the point cloud
- As we solve the system of equations, we'll likely get some very long decimal values. You can round these values to the ten thousandths place as we work.
}

@lesson-instruction{
Return to the @starter-file{alg2-aaron-judge} and work through @printable-exercise{model-speed-v-mpg.adoc}.
}

@teacher{
Students may wonder why fuel efficiency is a function of the _square_ of the speed, rather than the speed itself!

Physicists have determined that the biggest factor affecting fuel efficiency is _drag:_ the effect of air slowing it down. Physicists have calculated that drag increases based on squared velocity. Additionally, a car's transmission uses more efficient gears for higher speeds (the engine can turn more slowly at higher gears), but rarely does a car have a gear optimized for speeds above 65mph. As a result efficiency falls sharply once the "highest" gear is reached, as higher speeds require the engine to run faster.
}

@strategy{Optional Activity: Guess the Model!}{

1. Divide students into teams of 2-4, and have each team come up with a *secret*, quadratic, real-world scenario, then have them write down a quadratic function that fits this scenario on a sticky note. Make sure these functions are key private within each team! (Note: students may be tempted to just make up a scenario where something rises and falls, or vice versa. Challenge them to think through why the change in the output is quadratic with respect to the change of the change in the input!)
2. On the board or some flip-chart paper, have each team draw a _scatter plot_ for which their quadratic function is best fit. They should only draw the point cloud - _not the function itself!_ Finally, have students title their scatter plot to describe their real-world scenario (e.g., "percentage of people wearing diapers vs. age").
3. Have teams switch places or rotate, so that each team is in front of another team's scatter plot. Have them figure out the original function, write their best guess on a sticky note, and stick it next to the plot.
4. Have teams return to their original scatter plot, and look at the model their colleagues guessed. How close were they? What strategies did the class use to figure out the model?

- The coefficients can be constrained to make the activity easier or harder. For example, limiting these coefficients to whole numbers, positive numbers, etc.
- To extend the activity, have the teams continue rotating so that each group adds their sticky note for the best-guess model. Then do a gallery walk so that students can reflect: were the models all pretty close? All over the place? Were the guesses for one coefficient grouped more tightly than the guesses for another?
}

=== Synthesize

@QandA{
@Q{What did you figure out about how adjusting @math{a} changed the shape of the parabola?}
@A{The _sign_ of @math{a} determines whether the parabola: 
- opens up (@math{a > 0})
- opens down (@math{a < 0})
- or exists as a straight line (@math{a = 0})
}
@A{The _magnitude_ of @math{a} determines how "tight" or "steep" the parabola is, with larger magnitudes creating tighter parabolas and values closer to zero creating wider ones.}
}

@slidebreak

Our model is built from data about these 6 vehicles, evaluated at 15-75mph. What does your best model predict for the fuel efficiency of a vehicle that is _turned off_, moving at 0mph? What about a racecar moving at 200mph?

It's impossible for a car that's _turned off_ to burn gas. A racecar with a negative mpg rating would _generate_ fuel as it drives, which is also nonsense! If our model's prediction for these two extreme values is so bad, does that mean we shouldn't use the model at all?

@teacher{No - a model is only as good as the data it was based on. With lots of data between 15-75mph, the model could be very reliable between these speeds and totally _unreliable_ for speeds outside that range!}

@slidebreak

Linear regression allows us to find the *computationally optimal model*, not just a model that "fit really well."

@QandA{
@Q{In this project, do we know whether or not our model is the _best?_}
@A{We don't know!}
@Q{How do you know?}
@A{This fitting process was purely about adjusting sliders and seeing if @math{S} goes down. It was all trial-and-error, with no guarantee that there's no better model out there.}
}
