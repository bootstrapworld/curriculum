= Fitting a Model: College Degrees v. Income
++++
<style>
.studentAnswerMedium { min-width: 8em !important; }
td { padding: 0 !important; }
body.workbookpage .fitbruby { padding-top: 1.1rem; }
.center { padding: 0; }
.shortFitb .fitb { padding-top: 0.5rem !important; }
.tallFitb .fitb { vertical-align: bottom !important; }
</style>
++++

For this page, you'll need to open the @starter-file{alg2-states} open on your computer. If you haven't already, select **Save a Copy** from the "File" menu to make a copy of the file that's just for you.

== Build a Model from Samples

@n Record the `college-or-higher` and `median-income` values for the `alabama` (AL) and `alaska` (AK) rows, as (x,y) pairs below:

@center{
 (@fitbruby{10em}{@ifsoln{22.6}}{AK college-or-higher}, @fitbruby{10em}{@ifsoln{43253}}{AK median-income}) @hspace{10em} (@fitbruby{10em}{@ifsoln{27.5}}{AL college-or-higher}, @fitbruby{12em}{@ifsoln{70760}}{AL median-income})
}

@vspace{4ex}

[.tallFitb]
@n We want to understand how these two differences (@math{\Delta}s) relate to one another. Compute @math{\frac{\Delta median\mbox{-}income}{\Delta college\mbox{-}or\mbox{-}higher}} @fitb{8em}{@ifsoln{5613.67}}

@vspace{4ex}

@n Using the space below, compute the y-intercept and write the complete model below (in both Function and Pyret notation):

@vspace{25ex}

@center{
 @math{f(x) =} @fitbruby{8em}{@ifsoln{5613.67}}{slope}x + @fitbruby{8em}{@ifsoln{-83616.02}}{y-intercept} @hspace{5em} @show{(code '(define (f x) (+ (* (?ANS 5613.67) x) (?ANS -83616.02))))}
}

@n Type your function into the Definitions Area on the left, modifying the existing function `f(x)`. Then click "Run", and make sure you fix any errors or warnings. In the Interactions Area, try plugging in the `college-or-higher` value for Alabama by typing `f(22.6)`. How well does it predict the correct median income for Alabama? What about Alaska? Consider: If it doesn't predict it perfectly, why might that be?

[.shortFitb]
--
@n Try different `college-or-higher` values from _other_ states, to see how well a model our Alabama-Alaska model fits the rest of the country. 

@n Identify a state for which this model works well: @fitb{}{@ifsoln{Examples: Iowa, Indiana...}}

@n Identify a state for which this model works poorly: @fitb{}{@ifsoln{Examples: Vermont, Massachusetts...}}
--
== Fit the Model

**Evaluate @show{(code '(fit-model states-table "state" "college-or-higher" "median-income" f))} in the Interactions Area, and find the points for AL and AK along the predictor line.**

@n In the upper left corner, you'll see that it says "R-sqr", followed by a number. What is that number? @fitb{}{@ifsoln{-15.63}}

@n Change the definition of `f` so that the slope is _negative_ and click "Run". What is the @math{R^2} value now? @fitb{}{}

@n Change the definition of `f` so that it draws a horizontal line. What is the @math{R^2} value? @fitb{}{}

@n What do you think @math{R^2} tells us? @fitb{}{@ifsoln{It measures how well the model fits the data}}
