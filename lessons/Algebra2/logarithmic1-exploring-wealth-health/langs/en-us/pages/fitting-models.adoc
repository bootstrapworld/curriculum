= Fitting Models for the Countries Dataset

++++
<style>
/* Shrink vertical spacing on fitbruby */
.fitbruby{padding-top: 1.1rem !important;}
</style>
++++

@link-instructions{
For this page you will be working with both the @starter-file{alg2-countries} and the *Desmos* file *Fitting Wealth-v-Health and Exploring Logarithmic Models*. 
}

@n Find the optimized *linear model* for this data using `lr-plot`. Then update the definition for `linear` on line 29 of your starter file.

[cols="5a,1a", grid="none", frame="none", stripes="none"]
|===
|
@hspace{3em}@math{linear(x) =} @fitbruby{10em}{@ifsoln{@math{0.00021}}}{slope (m)}x + @fitbruby{10em}{@ifsoln{68.0126}}{y-intercept / vertical shift}
|
@fitbruby{10em}{@ifsoln{5.93}}{S-value}
|===

@indented{
The optimized linear model for this dataset predicts that a @fitbruby{5em}{@ifsoln{$1000}}{x-units} @fitbruby{8em}{@ifsoln{increase}}{increase / decrease} in 
@fitbruby{8em}{per-capita gdp}{x-variable} will increase 
@fitbruby{10em}{@ifsoln{median-lifespan}}{y-variable} by 
@fitbruby{5em}{@ifsoln{0.00021}}{slope}@fitbruby{5em}{@ifsoln{years}}{y-units}. The error in the model is described by an @math{\text{S-value}} of about  @fitbruby{1em}{@ifsoln{6}}{S}@fitbruby{4em}{@ifsoln{years}}{y-units}, which is
@fitbruby{16em}{@ifsoln{extreme}}{insignificant / reasonable / significant / extreme} considering @fitbruby{6em}{@ifsoln{years}}{y-units} in this dataset range from 
@fitbruby{5em}{@ifsoln{52.1}}{lowest y-value} to 
@fitbruby{5em}{@ifsoln{85.5}}{highest y-value}.
}

@ifsoln{@vspace{1ex}}

@teacher{Students "best" quadratic and exponential models will vary, as they are generated by eye -- Solutions below are provided as a reference only.}

@n Find the best *quadratic model* you can, using the first slide _(Wealth-v-Health Quadratic)_ in the Desmos activity. Then return to pyret. +
Update the `quadratic` function defined on line 35. Click "Run" and use `fit-model` to calculate the @vocab{S-value}.

[cols="5a,1a", grid="none", frame="none", stripes="none"]
|===
|
@hspace{3em}@math{quadratic(x) = }
@fitbruby{10em}{}{quadratic coefficient (a)}@math{(x −}
@fitbruby{10em}{}{horizontal shift (h)}@math{)^2 +}
@fitbruby{10em}{}{vertical shift (k)}
|
@fitbruby{10em}{}{S-value}
|===

@indented{
The vertex of the parabola drawn by my model is a @fitbruby{10em}{@ifsoln{maxima}}{minima or maxima?} at about (@fitbruby{8em}{@ifsoln{}}{x, y}). 

- _Before_ this point, as @fitbruby{10em}{@ifsoln{GDP per capita}}{x-variable} increases, 
@fitbruby{10em}{@ifsoln{median-life-span}}{y-variable} @fitbruby{10em}{@ifsoln{increases}}{increases or decreases?}. 
- _After_ this point, as @fitbruby{10em}{@ifsoln{GDP per capita}}{x-variable} increases, 
@fitbruby{10em}{@ifsoln{median-life-span}}{y-variable} @fitbruby{10em}{@ifsoln{decreases}}{increases or decreases?}.

The error in the model is described by an @math{\text{S-value}} of about
@fitbruby{1em}{@ifsoln{   }}{S}@fitbruby{4em}{@ifsoln{years}}{y-units}, which is
@fitbruby{16em}{@ifsoln{  }}{insignificant / reasonable / significant / extreme} considering 
@fitbruby{8em}{@ifsoln{years}}{y-units} in this dataset range from 
@fitbruby{6em}{@ifsoln{52.1}}{lowest y-value} to 
@fitbruby{6em}{@ifsoln{85.5}}{highest y-value}.
}

@n Find the best *exponential model* you can, using the second slide _(Wealth-v-Health Exponential)_ in the Desmos activity. Then return to pyret. +
Update the `exponential` function defined on line 39. Click "Run" and use `fit-model` to calculate the @vocab{S-value}.

[cols="5a,1a", grid="none", frame="none", stripes="none"]
|===
|
@hspace{3em}@math{exponential(x) = }
@fitbruby{8em}{}{initial value (a)}
@math{(} @hspace{1em}
@fitbruby{8em}{}{growth factor (b)} @math{^x} 
@hspace{1em} @math{)} @hspace{1em} 
@math{ + } @fitbruby{8em}{}{vertical shift (k)}
|
@fitbruby{10em}{}{S-value}
|===

@indented{
According to this exponential model, a country with a 
@fitbruby{10em}{@ifsoln{GDP per capita}}{x-variable} of zero 
@fitbruby{12em}{@ifsoln{dollars}}{x-unit} would have a
@fitbruby{10em}{@ifsoln{median-life-span}}{y-variable} of 
@fitbruby{1em}{@ifsoln{   }}{a} + @fitbruby{5em}{@ifsoln{   }}{k} 
@fitbruby{5em}{@ifsoln{years}}{y-units}, for a total of about 
@fitbruby{7em}{@ifsoln{   }}{a + k}. This number grows exponentially, increasing by a factor of 
@fitbruby{6em}{@ifsoln{   }}{Growth Factor: b} or 
@fitbruby{9em}{@ifsoln{   }}{Growth Rate: (b − 1) &times; 100} % with every 
@fitbruby{9em}{@ifsoln{thousand dollar}}{x-unit} increase in 
@fitbruby{10em}{@ifsoln{per capita GDP}}{x-variable}. 

The error in the model is described by an @math{\text{S-value}} of about
@fitbruby{1em}{@ifsoln{   }}{S}
@fitbruby{4em}{@ifsoln{years}}{y-units}, which is
@fitbruby{16em}{@ifsoln{  }}{insignificant / reasonable / significant / extreme} considering 
@fitbruby{8em}{@ifsoln{years}}{y-units} in this dataset range from 
@fitbruby{6em}{@ifsoln{52.1}}{lowest y-value} to 
@fitbruby{6em}{@ifsoln{85.5}}{highest y-value}.

}

@n Are any of these models a good fit for this data? Why or why not? @fitb{}{} +
@blanklines{2}{
@ifsoln{No! In some ways, this behavior is the exact opposite of exponentials: instead of starting slow and taking off like a rocket, this curve explodes up the y-axis right away, before leveling off.}
}
