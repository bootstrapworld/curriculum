[.beta]
= Exploring Quadratic Models

@description{Students investigate quadratic relationships in data about Fuel Efficiency, using an inquiry-based model of sense-making, hypothesizing, modeling and testing. They are introduced to table transformations and inverse functions, which are used to fit quadratic models onto nonlinear data.}

@lesson-prereqs{exploring-linear-models}

@keywords{quadratic, square, coefficient}

[@lesson-intro-table]
|===

| Lesson Goals
| Students will be able to...

* Read and interpret real-world data, presented in a scatter plot
* Model quadratic relationships using functions

| Student-facing Lesson Goals
|

* Let's use Pyret to model quadratic relationships in data


| Materials
|[.materials-links]
@material-links

| Preparation
|
* All students should pull up their @online-exercise{program-list} and, open the @starter-file{alg2-fuel-efficiency}.

| Key Points For The Facilitator
|
* Unlike linear functions, which are governed by slope and y-intercept, quadratic functions are governed by the bevahior of _three_ factors.
* Students should gain an intuition for these factors by playing with them first in Desmos, then use them to fit a model in Pyret.
|===

== Looking for Patterns @duration{15 minutes}

=== Overview
Students explore the @starter-file{alg2-fuel-efficiency}, and create scatter plots to search for relationships between columns. They share and discuss their findings with the class, discovering the limitations of linear models.

=== Launch

The questions below are intended to spark student interest in _fuel efficiency_, which students will explore in this lesson.

[.lesson-instruction]
- Since 1992, there have been laws about what information must be printed onto the labels of cars for sale. What do you think consumers should know about cars they are considering buying?
- Have you heard the term "fuel efficiency" before? What do you know about fuel efficiency?
** _Fuel efficiency is the miles that a car can travel per gallon. Since 2013, labels on cars for sale must include: fuel efficiency, energy use, fuel cost, and environmental impact._
- What factors influence fuel efficiency?
** _Possible responses: Efficient driving (e.g., gradual acceleration and braking, using cruise control), car maintenance, planning / combining trips, choosing a more fuel efficient vehicle, avoiding carrying excess weight in a vehicle._
- Do you think the speed at which you drive influences fuel efficiency? Why or why not?
- At what speeds do you predict that fuel efficiency is the best? The worst?
** _Invite students to share and explain their responses._

@teacher{Explain to students that in this lesson, they are going to learn more about the relationship between fuel efficiency and the speed a car is travelling. First, they'll explore the dataset and assess if a linear model is appropriate to model the relationship between speed and fuel efficiency.}

[.lesson-instruction]
- Open the @starter-file{alg2-fuel-efficiency}
- From the File menu, select "Save a Copy", and click "Run".
- Working in pairs or small groups, complete the first section of @printable-exercise{pages/exploring-mpg.adoc}.

@teacher{Review student answers to confirm that students see a _non-linear_ relationship in the dataset with a relatively strong correlation. Students should generally agree that the relationship is a curve (parabola), which opens downwards and has a vertex at _roughly_ 45mpg.  **Make sure students have agreed on this vertex**, as its location is important for the next activity!}

=== Investigate

@center{@image{images/fuel-efficiency-quadratic.png}}

There's definitely a relationship here. Even though some cars are more efficient than others, fuel efficiency generally increases from 15mph to around 40-60mph. But after about 60mph, fuel efficiency _decreases._

We also know that the best-possible linear model isn't very good!

[cols="^.^1a,^.^1a,^.^1a", frame="none", stripes="none"]
|===
| We could build linear models that fit the increasing half of the data...
| We could build linear models that fit the decreasing half of the data...
| We could build linear models that try to split the difference...

| @image{images/fuel-efficiency-linear1.png}
| @image{images/fuel-efficiency-linear2.png}
| @image{images/fuel-efficiency-linear3.png}
|===

...but all of them are so far away from so many points, and our @vocab{R&sup2;} is pretty bad.

[.lesson-instruction]
- Complete the rest of @printable-exercise{pages/exploring-mpg.adoc}. Be ready to share back and describe the curve you drew.
- When you're driving, what speed will save you the most money on gas?

@teacher{
Have students share their curves, encouraging them to identify where they "peak" and where they cross the bottom of the scatter plot (one option is to project the scatter plot on a whiteboard and have students come up and draw all of their curves on it). These locations will be important anchor concepts on which to build in the next section.
}

=== Synthesize

- Why don't linear models work to model the relationship between fuel efficiency and speed?
- What kinds of curves did you draw that fit better?
- Are there any mathematical functions that look like those curves?

== Quadratic Functions @duration{25 minutes}

=== Overview
Students are introduced to quadratic models,  (vocabulary, uses, different forms, and more),

=== Launch

Linear models are great for fitting simple relationships. But the real world isn't so simple, and, more often than not, linear models are just too primitive to handle that complexity.

Relationships like the one in the fuel efficiency scatter plot are best described by a curve! Today, we will learn about a curved model called a @vocab{quadratic relationship}.  Graphs of quadratic relationships are called a @vocab{parabola} and are often described as u-shaped or looking like an arch.

[.lesson-instruction]
We observed what appeared to be a @vocab{quadratic relationship} between speed and fuel efficiency. Can you think of any other quadratic relationships in the real world?

@teacher{Invite students to share any examples that they develop. Here are some additional quadratic relationships that show up in the real world to discuss with students.}

Here are some examples of quadratic relationships in the real world:

- When an athlete is young, they improve as they get stronger and more skilled. But as they age, they begin to lose their speed and strength.
- A ball dropped from a tall building will get faster and faster as it falls.
- Many nutrients are good for you, and the more you take the healthier you are...up to a point. After that, too much of a mineral or vitamin can cause problems.

=== Investigate

Although the examples we just discussed include the characteristic rising and falling of the parabola, we might encounter datasets that include only the _rising_ part of the parabola or only the _falling_ part.

That means that if we're looking at a portion a dataset or even a table of points, we need to consider whether the distance between the y-values _remains constant_ or does something different. In the subsequent activity, we're going to spend some time doing exactly that.

[.lesson-instruction]
--
- What would a table of a _perfect_ quadratic relationship would look like? Let's create and discuss that table together.
** _With students, create a table that shows the rise and fall of a perfect parabola._
- Turn to @printable-exercise{classifying-tables.adoc}. One of the first two tables (below) shows a linear progression, while the other shows a quadratic progression.

[cols="^1a,^1a",frame="none"]
|===
|
[.sideways-pyret-table]
!===
! x !  0 ! 1 ! 2  !  3 !  4
! y !  5 ! 6 ! 9  ! 14 ! 21
!===

|
[.sideways-pyret-table]
!===
! x !  0 ! 1 ! 2  ! 3 !  4
! y !  0 ! 3 ! 6  ! 9 ! 12
!===

|===

- Which table is quadratic? Which one is linear? What do you Notice? What do you Wonder?
** _The first table is quadratic, and the second table is linear. Invite students to share their Noticings and Wonderings._
--

Linear functions grow by _fixed_ intervals. In the table above, each time the x-value increased by 1, we saw that the y-value increased by 2.

Quadratic functions grow by intervals that _increase_ by fixed amounts! In the table above, every time the x-value increased by 1, we saw that the y-value increased by _2 more than it did in the in the previous interval._ You probably observed that y increased first by 1, then 3, then 5, then 7.

[.lesson-instruction]
- Identify whether each of the remaining tables on @printable-exercise{classifying-tables.adoc} is quadratic, linear or neither.
- Use the space to the right of the table to show any computations or work that you deem useful.

@teacher{Debrief with students and allow them to share the different strategies that they used.}

As we work with parabolas - and eventually fit them to our Fuel Efficiency dataset! - it will be useful to have shared terminology. *Let's define the parts of a parabola together.*

[.lesson-instruction]
- Linear relationships can be described with terms like "slope" and "y-intercept". But what about quadratic relationships? Do parabolas have slope?
** No. They curve because they _do not_ have a constant rate of change.
- Do all parabolas have y-intercepts?
** No. Some do and some don't!
- What do you think the other important parts of a parabola might be?

@teacher{Invite students to share what they know or can infer about a parabola's parts. If needed, provide the definitions on the table below, which refer to specific points on a parabola.}

[cols="^.^3a,^.^3a,^.^3a", options="header", stripes="none"]
|===

| Vertex

| y-intercept

| x-intercept

| @image{images/opens.png, 250}

| @image{images/y-intercept.png, 200}

| @image{images/roots.png, 250}

|

The point at which a parabola "changes direction" and goes from climbing to sinking (or vice versa).

|
Like linear models, parabolas always cross the y-axis once when @math{x=0}.

|
Also known as @vocab{roots} or @vocab{zeros}. A quadratic function can cross the x-axis once, twice, or not at all.

|===


There are two more specific terms that we can use to describe a parabola's vertex:

- The @vocab{maxima} is the vertex of a parabola that "opens up."
- The @vocab{minima} is the vertex of a parabola that "opens down."

Every parabola also has an @vocab{axis of symmetry}, an imaginary vertical line through the @vocab{vertex} that splits the curve into two congruent parts that mirror each other.

[.lesson-instruction]
Turn to @printable-exercise{parabolas.adoc} to apply our new terminology by sketching and labelling some graphs.

=== Synthesize

* What key characteristics of a scatter plot would provide the clue that we should look for a quadratic model rather than a linear model?
* Why do some parabolas have roots and others don't?
** _The location of the minima or maxima in relationship to the x-axis determines the number of roots._
* What is the difference between a minima and a maxima?
** _A minima is the vertex of a parabola that opens up, while a maxima is the vertex of a parabola that opens down._

== Fitting Quadratic Models @duration{15 minutes}

=== Overview
Students work with the vertex form to fit a quadratic model for the Fuel Efficiency dataset. They extend the model-fitting techniques from the @lesson-link{exploring-linear-models} lesson into quadratic relationships.

=== Launch

We just examined a series of quadratic and linear functions that looked a lot like the ones you might find in an Algebra 2 textbook: clean and predictable. Real-world data, however, is messy! Let's return to our @starter-file{alg2-fuel-efficiency} to dig into that messiness.

[.lesson-instruction]
- A scatter plot of the fuel efficiency data has the familiar "rise and fall" pattern of a parabola... but there appears to be a "dip" around 40mph.
- Does that mean we shouldn't use a quadratic model for the relationship between speed and fuel efficiency? Why or why not?
** _Have students discuss and share back with the class. If necessary, remind students that _models are - by defintion - approximations of the real world._

The existence of a "dip" like this is normal in real data, but it doesn't mean that the overall shape of this relationship isn't quadratic. There's no such thing as a perfect model!

=== Investigate

Even though real-world data is messy, we're going to *try to build the best possible quadratic model we can for our Fuel Efficiency dataset.*

To do so, we're going to use the Vertex Form for our quadratic relationship. Vertex Form is a good starting point because, based on our previous exploration, we already know that the greatest fuel efficiency (or the @vocab{vertex}) is predicted at @math{45mph}.

*Vertex Form* looks like this: @math{y=a(x−h)^2+k}

- @math{a} determines whether the parabola opens up or down and how steep the curve is
- @math{h} is the x-coordinate of the vertex
- @math{k} is the y-coordinate of the vertex

[.lesson-instruction]
- We know the greatest fuel efficiency occurs at a predicted speed of @math{45mph}.
- Which variable above - @math{a}, @math{h}, or @math{k} - can we substitute for @math{45}?
** _We can replace @math{h} with @math{45}, given that our explanatory variable is speed._

We just discovered the value for @math{h} that we will use in our quadratic model for the relationship between speed and fuel efficiency... but what values should we use for @math{a} and @math{k}?

[.lesson-instruction]
- Return to @starter-file{alg2-fuel-efficiency} and work through @printable-exercise{model-speed-v-mpg.adoc}.
- First, you'll learn about a new Pyret function that we'll use in this lesson, `num-sqr`.
- Then, you'll explore provided quadratic function definition.
- Finally, you'll update the provided function to fit the parabola.

[.strategy-box, cols="1", grid="none", stripes="none"]
|===

|
@span{.title}{Going Deeper: Interaction Effects}

We often think about variables of a model being _independent_ from one another, each contributing a little to the outcome we are measuring. But sometimes one input will amplify the result of another input, meaning their combined contribution is greater than the sum of their separate contributions.

A quadratic relationship often means that one or more variables is _interacting_ with another variable. In our miles-per-gallon example, it turns out that a linear increase in speed has a _more than linear effect_ on mpg!
|===

=== Synthesize

* What was the highest @math{R^2} you were able to get? 
* What did you figure out about how adjusting @math{a} changed the shape of the parabola?
** Negative @math{a} made the parabola open down. Bigger values of @math{a} made the curve steeper.


== Other Forms of Quadratic Models

=== Overview

Students learn that there are multiple forms for defining quadratic relationships and consider which form works best depending on the information available from a scatter plot.

=== Launch

When we modeled the fuel efficiency data, we started with the vertex form, replaced the variables in the equation that we had information about with numbers and optimized from there. But not all scatterplots will most clearly reveal the vertex... so we might want to start with another form!

Just as there are different forms of linear models and we might choose to use one display over another, depending on what information we have available to us or are most interested in, there are several forms of quadratic models:

[cols="^1a,^1a,^1a", options="header"]
|===
| Standard Form 		| Vertex Form			| Factored Form
| @math{y=ax^2+bx+c}	| @math{y=a(x−h)^2+k}	| @math{y=a(x−r_1)(x−r_2)}
<| 
- c: y-intercept
<|
- h: x-coordinate of the vertex
- k: y-coordinate of the vertex
<|
- a: determines whether the parabola opens up or down and how steep the curve is
- @math{r_1}: root or x-intercept
- @math{r_2}: other root or x-intercept
|===

And, depending on what part of the model we care about most, we might choose to use one display over another:

- **Standard Form** makes it easy to find the @vocab{y-intercept} of the parabola
- **Vertex Form** makes it easy to find the @vocab{vertex} (@vocab{minima} or @vocab{maxima}) and @vocab{axis of symmetry} of the parabola
- **Factored Form** makes it easy to find the @vocab{roots} of the parabola

=== Investigate


=== Synthesize

@comment{
== Transforming Quadratic Functions

You've had a chance to experiment with quadratic models in vertex form:

@center{@math{y=a(x−h)^2+k}}

* How do you translate a parabola left and right?
** Change the value of @math{h}
* How do you translate a parabola up and down?
** Change the value of @math{k}
* How do you make a parabola "narrower" or "wider"?
** Change the value of @math{a}

* If you were fitting a quadratic model in vertex form to a scatter plot, which coefficient would you try to get right _first?_ Which one would you worry about _last?_

}

== Additional Exercises

- @opt-printable-exercise{classifying-defs.adoc}
- @opt-printable-exercise{match-graph-f.adoc} 
- @opt-printable-exercise{match-graph-v.adoc}
