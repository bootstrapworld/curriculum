= Modeling Fuel Efficiency v. Speed
++++
<style>
.studentAnswerMedium { min-width: 10em !important; }
td { padding: 0 !important; }
body.workbookpage .fitb { padding-top: 0.2rem !important; }
</style>
++++

For this page, you'll need the  @online-exercise{https://code.pyret.org/editor#share=1RESEiKCepBRV3_AbthDydHaq5b9BN2zy&v=4d870d2, Fuel Efficiency Starter File} open on your computer. If you haven't already, select **Save a Copy** from the "File" menu to make a copy of the file that's just for you.

@vspace{1ex}


**In this exercise you'll have a chance to build and fit more models to the data, now armed with new tools that let you experiment with squares and square roots.** These tools are listed here (as well as in your contracts pages):

@vspace{1ex}

[cols="^1a,^1a", stripes="none", frame="none"]
|===
| @math{x^2}
| @math{\sqrt x}

| @show{(contract "num-sqr" '("Num") "Num" "Consumes a number, and produces the square of that number")}
| @show{(contract "num-sqrt" '("Num") "Num" "Consumes a number, and produces the square root of that number")}
|===

@n In the Interactions Area, enter the following expressions, one after the other. Can you predict what the output will be? @show{(code '(sqr 16))}, @show{(code '(sqrt 4))}, @show{(code '(sqr (+ 10 6)))}, @show{(code '(sqrt (* 2 2)))}

== Build a Model from Samples

@n The *vertex form* of a quadratic model is shown below. Fill in the vertex using the most-efficient speed from @printable-exercise{exploring-mpg, Exploring the Fuel Efficiency Dataset}:

@center{@math{f(x) = a(xâˆ’}@fitbruby{6em}{}{peak efficiency}@math{)^2+k}}

@vspace{1ex}

@center{__But what values of @math{a} and @math{k} will build the best possible model?__}

@n The *quadratic coefficient* @math{a} determines whether a parabola opens "up" (positive) or down (negative). What is the sign of @math{A}? @fitb{5em}{@ifsoln{negative}}

@n In the Definitions Area, change the definition of function `f` to be a quadratic function with 0 for @math{k}. Based on your answer to the previous question, use a positive or negative `1` for @math{a}. Fit this model to your dataset, using `fit-model`. What @math{R^2} value did you get? @fitb{10em}{}

@vspace{1ex}

**Keeping the sign of @math{a} the same**, try other values for @math{a} besides `1`: `10`, `100`, `1/10`, `1/100`, etc. The scale of the graph will change along with the shape of the parabola, causing the datapoints at the top to shift.

@n After experimenting with different values of @math{a}, which one draws a parabola that __most closely matches__ the shape of the dots above it? @fitb{10em}{@ifsoln{~-1/100}}. What @math{R^2} value did you get? @fitb{10em}{@ifsoln{~-127.455}}

The constant term @math{k} will move the parabola up and down. **Keeping the rest of your function the same**, experiment with different values of @math{k} to _most closely match_ the data.

@n Which value of @math{k} results in a parabola that _most closely fits the shape of the data? @fitb{4em}{@ifsoln{~33}}. What @math{R^2} value did you get? @fitb{}{@ifsoln{~0.733}}


@n Describe this model:

Model @fitbruby{20em}{f}{sensible name} is a quadratic model, which shows that speed explains @fitbruby{10em}{@ifsoln{~73.3%}}{R-squared * 100} of the variability in gas mileage for cars in this dataset. The vertex of the parabola drawn by this model is @fitbruby{20em}{@ifsoln{~45}}{x-value of vertex}, which means that @fitbruby{20em}{@ifsoln{45mph is the most efficient speed to drive}}{interpretation of the vertex}.
