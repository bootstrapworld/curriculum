import React from "react";
import { MarkdownView } from "../components/markdown";
export let ShortAnswerMethods = {
    PromptView: ({ prompt }) => (React.createElement(MarkdownView, { markdown: prompt.prompt, snippetOptions: { lineNumbers: true } })),
    ResponseView: ({ prompt, submit, formValidators: { required } }) => {
        let formFields = required("answer");
        return (React.createElement(React.Fragment, null, !prompt.response || prompt.response === "short" ? (React.createElement("input", { ...formFields, type: "text", placeholder: "Write your answer here...", onKeyDown: e => {
                if (e.key === "Enter")
                    submit();
            } })) : (
        /* prompt.response == "long" */
        React.createElement("textarea", { ...formFields, placeholder: "Write your answer here..." }))));
    },
    AnswerView: ({ answer, baseline }) => (React.createElement("code", { className: ShortAnswerMethods.compareAnswers(baseline, answer)
            ? "correct"
            : "incorrect" }, answer.answer)),
    compareAnswers(providedAnswer, userAnswer) {
        let clean = (s) => s.toLowerCase().trim();
        let possibleAnswers = [providedAnswer.answer]
            .concat(providedAnswer.alternatives || [])
            .map(clean);
        return possibleAnswers.includes(clean(userAnswer.answer));
    }
};
//# sourceMappingURL=short-answer.js.map