= Functions for Tables
++++
<style>
/* Push content to the top (instead of the default vertical distribution), which was leaving empty space at the top. */
#content { display: block !important; }
</style>
++++

[.linkInstructions]
Open the @starter-file{animals} and click "Run". In the Interactions Window on the right, type `animals-table` and hit "Enter" to see the default view of the table.

== Sorting by a Column

@n Dacks wants to sort this table by `age`, showing all the animals in _ascending order_ (youngest-to-oldest). Lion wants to sort the table by `pounds`, but in _descending order_ (heaviest-to-lightest). How else can you sort the table? Be sure to specify "ascending" or "descending":

@hspace{4em} a. @fitb{}

@hspace{4em} b. @fitb{}

@center{*Pyret has a function called `sort` that will produce sorted Tables!*}

@n The Domain of `sort` has three inputs. One of them is the table itself. Can you complete the other two?

@indented{
@ifnotsoln{@show{(contract 'sort '((table-name Table) (column-name "                   ") (order "                   ")) "Table")}}
@ifsoln{@show{(contract 'sort '((table-name Table) (column-name "String") (order "Boolean")) "Table")}}
}

@vspace{1ex}

Test out @show{(code '(sort animals-table "age" true))} in the Interactions Area, then try using `false` instead of `true`:


@n `true` sorts the table... @fitb{}{@ifsoln{from A-Z ... or from least to greatest}}

@n `false` sorts the table... @fitb{}{@ifsoln{from Z-A ... or from greatest to least}}

@n What code will sort the animals by alphabetical order of their _names_? @fitb{}{@ifsoln{@show{(code '(sort animals-table "name" true))}}}

@n Did you use `true` or `false`? Explain why. @fitb{}{}

== Summarizing by a Column
Let's explore the contract for another table function:

@show{(contract "count" '("Table" "String") "Table")}

@vspace{1ex}

*Suppose we wanted to know how many animals had 4 legs...*

Type @show{(code '(count animals-table "legs"))} into the Interactions Area and click "Enter"

@n What did the expression produce? @fitb{}{@ifsoln{a new table showing the counts for the number of animals with 0 legs, 3 legs, 4 legs and 8 legs}}

@n How many animals had 4 legs? @fitb{}{@ifsoln{29}}

@n Think of another question you might be able to answer with the `count` function.

@fitb{}{@ifsoln{Possible response: How many animals are cats?}}

@n Fill in the blanks with the code you'd write.

@fitbruby{10em}{@ifsoln{count}}{function-name} (@fitbruby{20em}{@ifsoln{animals-table}}{table-name {two-colons} Table}, @fitbruby{15em}{@ifsoln{Answers will vary!}}{column-name {two-colons} String})

@n Tables that summarize data with a count are commonly used in the real world. Write an example of where you've seen them before: +
@fitb{}{@ifsoln{Answers will vary! Election Results, Survey Results, Fundraiser Results, etc. }}

@n Newspapers often incorporate data into their reporting. How else might they display this information, besides using a table?

@fitb{}{@ifsoln{bar charts, pictographs, infographics}}

@n Try using the `count` function to summarize the `pounds` column. Is the resulting summary useful? Why or why not? @fitb{}{} +
@fitb{}{@ifsoln{No - nearly every animal has a unique weight, so the resulting table is almost as long as the original!}} +
