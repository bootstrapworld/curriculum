= Examples, Purpose Statements, and Expressions

@description{Students practice writing examples, Purpose Statements, and expressions.}

@lesson-prereqs{codap-filtering}

@keywords{}

[@lesson-intro-table]
|===
| Lesson Goals
| Students will be able to...

* Create strong Purpose Statements that describe the work a Transformer's expression completes.
* Develop examples to demonstrate how tables are altered by specific Transformers.


| Student-facing Lesson Goals
|

* Let's write Purpose Statements and examples.

| Materials
|[.materials-links]

@material-links

| Preparation
|
* All students should log into @starter-file{program-list} and open their saved "Animals Starter File". If they don't have the file, they can open a new one from @starter-file{animals}.
|===

== Examples, Purpose Statements, and Expressions

=== Overview

Students use @vocab{examples} to support them in generating Transformers' Purpose Statements and Expressions.

=== Launch

The shelter needs to purchase larger kennels for animals that weigh over 50 pounds. To determine how many kennels to buy, we'd need to create a filter Transformer. Doing so requires that we have a clear understanding of two important elements. The @vocab{Purpose Statement} describes what the expression does to each row. The expression indicates what rows from the original dataset we will keep.

Jotting down some @vocab{examples} is a useful practice to ensure that we get the correct Purpose Statement and expression.

=== Investigate

Examples must include some rows will stay in our new, filtered dataset... and some rows that will be filtered out.

Here are some questions we might pose as we generate examples for the scenario above:

- Will Snuggles be included in the new dataset? _No, Snuggles weighs 0.1 pounds. That's not heavy enough!_

- Will Fritz be included in  the new dataset? _Yes, Fritz weighs 92 pounds, which is greater than 50._

- Will Nori be included in the new dataset? _No, Nori weighs 35.3 pounds, which is less than 50._

We can capture the information we generated on a pair of tables:

[cols="1a,1a", options="header"]
|===
| Original Table
| Transformed Table
|  [cols="1a,1a"]
!===
! *Name* 		! *Pounds*
! Snuggles	! 0.1
! Fritz		! 92
! Nori		! 35.3
!===
|  [cols="1a,1a"]
!===
! *Name*	! *Pounds*
! Fritz	! 92
!===
|===

These examples help us identify a pattern before we jump straight to variables and formulas.

When we study the pair of tables above, describing what the expression does to each row of the dataset becomes much simpler. And so, our Purpose Statement will say something like, _"Checks each row to see if pounds is greater than 50"_.

Programmers and Mathematicians alike find it helpful to restate a problem in their own words. After all, if you can’t explain a problem to someone else, you probably don’t understand it yourself!

[.lesson-instruction]
- Turn to @printable-exercise{writing-purpose-statements-filter.adoc}. Study each pair of tables and write a Purpose Statement that describes what is going on.
- Do not respond to the prompts about the Transformers' expressions. We will return to that later.

Once students have written their Purpose Statements, it's time to think about Expressions. This is where students identify the structure of the rule or pattern, independently of any specific inputs. *If students' Purpose Statements were carefully written, they should be able to write the Expression without referring to the example tables.*

[.lesson-instruction]
- On @printable-exercise{writing-purpose-statements-filter.adoc}, use your Purpose Statements to fill in the expressions for each pair of tables.
- Complete @printable-exercise{matching-tables-expressions.adoc}.
- Complete @printable-exercise{writing-examples.adoc}, where you will come up with your own examples!

When students get stuck, we encourage working the problem through with paper and pencil. This process slows down thinking and encourages students to reason through each scenario fully rather than guessing haphazardly.

=== Synthesize

- What are the important elements of Purpose Statements? Why are Purpose Statements useful?
- What strategies did you use to match pairs of tables with their expressions?
- What strategies did you use to decide which rows to include in your examples?








== Design Recipe Practice @duration{25 minutes}

=== Overview
In this lesson students build on what they have already learned to formalize their understanding of the Design Recipe, and then gain fluency with using the Design Recipe.

=== Launch

When filtering rows or building columns, we need to write Transformer expressions. __This should be done carefully!__ We want our results to be rock solid and accurate, especially if they're going to be used in ways that affect the world around us.

The Design Recipe is a sequence of steps that helps us document, test out, and write Transformer expressions that let us dig deeper into our data, and analyze it more carefully. It's important for this to be like second nature, so let's get some practice using it.

[.lesson-instruction]
Let's look at @printable-exercise{pages/design-recipe-1.adoc} together.

First, we need to decide which Transformer to use: Filter, Transform, or Build. Based on the Transformer's already-provided name, students should deduce that they will use Filter. They can then record the Transformer's name on the line.

@image{images/transformer-name.png, 800, "top section of a Design Recipe"}

Next, we provide *example tables*. In this case, we want to know the animals' names and their species, so we write down those column names. We want to list a few different animals - at least one that is a dog, and at least one that is not - to represent the variety of animals on the table. Then we think about what our transformed table will look like:

- Will Sasha be on the new table? _No, Sasha is a cat. We only want dogs!_

- Will Fritz be on the new table? _Yes, Fritz is a dog._

- Will Toggle be on the new table? _Yes, Toggle is a dog._

@image{images/example-tables.png, 800, "filled in example tables from Design Recipe worksheet" }

Now, we are ready to drill down on the contents of our Transformer.

- First - the *contract*, which requires a domain (what type of data will we provide) and a range (what type of data will be produced). Whenever we are filtering, we can expect the contract to be the same: Row -> Boolean.

- Next, we need a clear *purpose statement*, which describes what the expression does to each row. In this case, the expression will consume an animal and compute whether the species is "dog" - as our example tables (above) demonstrate!

- And finally, we enter our *expression*, in this case: `species = "dog"`.

@image{images/contents.png, "contract, purpose statement, expression", 800}

Each time students encounter a new word problem, we encourage working through it with paper and pencil, as above; the Design Recipe slows down students' thinking and encourages them to reason through each scenario fully rather than guessing haphazardly.


=== Investigate

[.lesson-instruction]
- Open your saved @starter-file{animals}.
- Define the Transformers and expressions on @printable-exercise{pages/design-recipe-1.adoc} and @printable-exercise{pages/design-recipe-2.adoc}.


[.strategy-box, cols="1", grid="none", stripes="none"]
|===
|
@span{.title}{Optional: Combining Booleans}

Suppose we want to build a table of Animals that are fixed _and_ old, or a table of animals that are cats _or_ dogs?

By using the `and` and `or` operators, we can _combine_ Boolean tests on a single Transformer, like `Filter`. Once we've opened the `Filter` Transformer, we would tell CODAP to keep all rows that satisfy `Species = "cat" and Species = "dog"`. This is handy for more complex programs! For example, we might want to ask if a character in a video game has run out of health points _and_ if they have any more lives. We might want to know if someone’s ZIP Code puts them in Texas or New Mexico. When you go out to eat at a restaurant, you might ask what items on the menu have meat and cheese.

When we want to compose _different_ Transformers, however, this strategy will not work. We'll need to find another way!
|===

=== Synthesize
- Did you find yourselves getting faster at using the Design Recipe?
- What patterns or shortcuts are you noticing, when you use the Design Recipe?

