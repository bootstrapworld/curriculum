= Building and Testing a Decision Tree

On @printable-exercise{which-question.adoc}, we decided to use *age* as the root node of our app-prediction tree. Let's create the rest of the tree and test it out. You can refer to the training dataset on @handout{decision-tree-data.adoc}.

== Build and Understand the Tree

[cols="1,1", stripes="none"]
|===

|
@ifnotsoln{@center{@image{../images/app-tree-blanks.png, 350}}}

@ifsoln{@center{@image{../images/app-tree-solns.png, 350}}}

|

@n The root node of this tree is @fitb{5em}{@ifsoln{age}}.

@vspace{1ex}

@n The first set of branches includes @fitb{5em}{@ifsoln{young}} and @fitb{5em}{@ifsoln{old}}.

@vspace{1ex}

@n What are the three leaves of this decision tree? @fitb{8em}{@ifsoln{tiktok}}, @fitb{8em}{@ifsoln{youtube}}, and @fitb{8em}{@ifsoln{facebook}}.

@vspace{1ex}

@n Write some rules:

- Recommend @fitb{10em}{@ifsoln{tiktok}} for youth.

- Recommend facebook for @fitb{12em}{@ifsoln{adult males}}.

- Recommend @fitb{10em}{@ifsoln{youtube}} for adult females.

|===


== Test the Tree

Let's see how well our decision tree recommends apps for three additional individuals, who were _not_ a part of the training dataset.

[cols="1,5,5,5", stripes="none", options="header"]
|===

|   | sex		| age	| app
| 1 | male		| 52	| facebook
| 2 | female 	| 15	| youtube
| 3 | male 		| 12 	| youtube

|===

@n What app will the decision tree recommend for person 1? @fitb{5em}{@ifsoln{facebook}} Person 2? @fitb{5em}{@ifsoln{tiktok}} Person 3? @fitb{5em}{@ifsoln{tiktok}}

@n Compare the test data with the decision tree recommendations. How often was the computer correct? @fitb{10em}{@ifsoln{1 out of 3 times}}


@n Based on this new test data, which rule (Q4, above) needs to change? Why? @fitb{}{@ifsoln{We need to change the rule about recommending}}

@fitb{}{@ifsoln{tiktok to all youth. The new test data indicates that some young people prefer youtube.}}

== Practice: Which Decision Attribute is Best?

// Emmanuel - I think an activity like the one very poorly illustrated below could be useful. Gotta find a way to make it more easily interpreted by kids. Basically, I want to offer more practice without creating more datasets...  //

@image{../images/delete-this.png}


