= Expressions & Functions in CODAP

++++
<style>
#content > table { height: 100%; }
#content td, th {padding: 0px !important; text-align: center !important;}
#content table td p {white-space: pre-wrap; }
</style>
++++

Let's say we want to predict what each animal will weigh if its weight doubles. We could take out a calculator or do some computation with paper and pencil! Fill in the portion of the Animals table below, computing each animal's weight, doubled.


[.FillVerticalSpace,cols="^.^5,^.^5,^.^5", stripes="none", options="header"]
|===

| Animal
| Pounds
| Pounds doubled

| Sasha
| 6.5
| @ifsoln{13}

| Snuffles
| 3.5
| @ifsoln{7}

| Mittens
| 7.4
| @ifsoln{14.8}

| Sunflower
| 8.1
| @ifsoln{16.2}


|===

@vspace{1ex}

It would be quite time-consuming to do this for the entire table! Instead, we can input expressions and functions that use attributes as variables. To tell CODAP to double the weight, we could instead create a column where we would input `Pounds * 2` into our `Edit Formula` box. Go to @starter-file{expressions-functions} to try it out.

@n Why do you think the word `Pounds` has different a different color than the rest of the formula? Does `pounds` (lower-case `p`) appear in a special color? @fitb{}{}

@fitb{}{@ifsoln{'Pounds' appeared in pink, because CODAP recognizes that is an attribute in the dataset. Case matters!}}

@n On the second table in @starter-file{expressions-functions, the file}, enter a formula that will increase the number of weeks by 2. Write your formula here: @fitb{}{@ifsoln{`Weeks + 2`}}

@n Now, let's revisit the @starter-file{animals}. Can you think of other scenarios where it would be useful to enter an expression or function as the formula for a new attribute? Write down one possible scenario. @fitb{}{}

@fitb{}{}

@vspace{1ex}

== Applying Functions

In order to answer each of the questions below, you must first create a new column in @starter-file{animals}. Click on the attribute name for that new column and choose `Edit Formula` from the drop-down menu that appears. You will be typing into the `Edit Formula` box.

@n Enter `sqrt(16)` into the `Edit Formula` box. How many arguments does `sqrt` expect? @fitb{}{@ifsoln{_1_}}

@n What type of argument does the function expect? (Number? String? Boolean?) @fitb{}{@ifsoln{_Number._}}

@n What type of output does `sqrt` produce? @fitb{}{@ifsoln{_Number._}}

@n What did the function evaluate to? @fitb{}{@ifsoln{_4_}}

@n Now, enter `sqrt(Weight)`. What do you observe? @fitb{}{@ifsoln{_CODAP finds the square root of each animal's weight_}}

@n What happens when you enter `sqrt(Legs)`? @fitb{}{@ifsoln{_CODAP finds the square root of each animal's legs for `sqrt(Legs)`._}}

@n What about `sqrt(Name)`? @fitb{}{@ifsoln{_CODAP produces an error message because it cannot find the square root of a string, only a number._}}

@n Enter `stringLength(Name)` into the `test` column. @n What do you observe? @fitb{}{@ifsoln{__7 appears, CODAP finds the amount of letters in each animal's name__}}

@n How many arguments does `stringLength` expect? @fitb{}{@ifsoln{_1_}}

@n What type of argument does `stringLength` expect? @fitb{}{@ifsoln{_String_}}

@n Does `stringLength` produce a Number? String? Boolean? @fitb{}{@ifsoln{_Number_}}

@vspace{1ex}

== Putting it all together

- Create a column called `age-next-year` that uses an expression to add one year to each animalâ€™s age.

- Create a column called `rounded-weight` that uses a function to give the weight of each animal rounded to the nearest whole number.

- Create a column called `old` that uses a Boolean to indicate which animals are over 5 years old.
