= From Circles to Code (2)
++++
<style>
.literalblock pre { 0.5em 0 !important; }
table:first-of-type td {padding: .25em .5em !important; }
</style>
++++

@do{

(define exp1 '(filter (sort t "name" false) is-fixed))
(define exp2 '(build-col (filter t is-cat) "kilos" kilograms))
(define exp3 '(build-col (filter (filter t is-fixed) is-cat) "meows" is-cat))
(define exp4 '(build-col (filter (sort t name "true") is-fixed) "meows" is-cat))

}

You have the following functions defined below (read them _carefully!_):

  fun is-cat(r): r["species"] == "cat"       end
  fun kilograms(r): r["pounds"] / 2.2        end
  fun is-fixed(r): r["pounds"]               end

The table `t` below represents four animals from the shelter:

[cols='6',options="header"]
|===
| name        | sex       | age   | fixed   | species | pounds
| `"Toggle"`  | `"female"`| `12`  | `true`  | `"dog"` | `48`
| `"Fritz"`   | `"male"`  |  `4`  | `true`  | `"dog"` | `92`
| `"Nori"`    | `"female"`|  `6`  | `true`  | `"dog"` | `35.3`
|`"Sunflower"`| `"female"`|  `2`  | `false` | `"cat"` | `51.6`
|===

@vspace{1ex}

For each of the Circles of Evaluation on the left, convert them into Pyret code on the right _and_ write what you think the resulting table will be.

@vspace{1ex}

[.FillVerticalSpace, cols=".^1a,^.^20a,^.^20a",stripes="none",frame="none", options="header"]
|===
|
| Circle of Evaluation
| Pyret code

| @n
| @show{(coe exp1)}
| @showsoln{(code exp1)}

| @n
| @show{(coe exp2)}
| @showsoln{(code exp2)}

| @n
| @show{(coe exp3)}
| @showsoln{(code exp3)}

| @n
| @show{(coe exp4)}
| @showsoln{(code exp4)}

|===
