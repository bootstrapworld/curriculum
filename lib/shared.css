@import url("./asciidoctor.css");
@import url("./bootstrap.css");
@import 'https://www.bootstrapworld.org/styles.css';
@import 'https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack.css';

/************************************************************************************
* OVERRIDE ASCIIDOCTOR DEFAULTS AND SET SYSTEMWIDE STYLES
*/
body {
  font-size:      12pt;
  font-family:    'Lato', Arial, Helvetica, sans-serif;
  color:          #75328A;
  width:          100%; /* needed to undo effect of html{display:flex} */
  break-inside:   auto !important;
  display:        block;
  page-break-inside: auto !important;
  -webkit-font-smoothing: antialiased;
}

body.beta::after { 
  position: absolute;
  top: 1in;
  left: 2in;
  transform: rotate(-45deg);
  content: "BETA";
  opacity: 0.2;
  line-height: 3em;
  color: gray;
  font-size: 100pt;
  font-weight: 900;
}

/* These items should ALWAYS max-out pagewidth, and have no padding */
#header, #content, #footer {
  width: 100% !important; max-width: 100% !important; padding: 0;
}

a       { color:  #2156a5 !important; }
p       { margin: 10px 0px; font-size: inherit; }
code    { display: inline-block; padding: 0 !important; line-height: 1rem !important; }
mark    { background: none; color: inherit; }
em, strong { margin: 0px 2px; }
.listingblock pre { margin: 3px 0px; padding: 0; }
table thead * {font-size: unset !important;} /* unset asciidoc thead sizes */

body:not(.LessonPlan, .narrativepage) .paragraph {width: 100%; }
body:not(.LessonPlan, .narrativepage) p {
  width:        100%;
  overflow:     hidden; 
  margin:       0px;
}
/* Empty p tags should take up no space */
body:not(.LessonPlan) p:empty { min-height: 0; margin: 0; padding: 0; }

h1 {
  font-size:      2rem;
  font-weight:    bold;
  font-family:    'Lato', Arial, Helvetica, sans-serif;
}
h2 {
  margin:          0; /* 1ex bottom margin */
  font-family:    'Lato', Arial, Helvetica, sans-serif;
}

#header>h1:only-child { border-bottom: none; }

/* unordered list spacing */
ul { line-height: inherit; }
.ulist ul { margin-bottom: 0px; }
.ulist p  { margin: 5px 0px; }

/* table format defaults */
table, td.tableblock>.content { margin-bottom: 0px; }
tr th.tableblock code, td.tableblock code { background: none; }
td.tableblock pre { background: none !important; }
tr th.tableblock {
  background:       #cccccc !important;
  padding:          .25em .5em;
  font-size:        1rem;
}

.indentedpara { margin-left: 3em; }

/* The footer at the bottom of every page */
.acknowledgment {
  margin-top:       35px !important;
  border-top:       dashed 2px black !important;
  padding-top:      20px !important;
  padding-bottom:   5px !important;
  font-size:        0.8rem !important;
  font-style:       italic !important;
  line-height:      inherit !important;
}
.acknowledgment * {
  line-height: inherit !important;
}
.acknowledgment img {
  width:            94px !important;
  height:           37px !important;
  float:            right !important;
}
#footer {
  background: rgba(0,0,0,0.5);
  margin-left: -3em;
  padding-left: 10px !important;
  height:     24px;
  position:   fixed;
  bottom:     0;
  padding:    0;
  z-index:    999;
}

.canBeLongerThanAPage #footer { display: none; }

/* Hide anything that we only want seen on Google drive */
.gdrive-only { display: none; visibility: hidden; }

/* Warn the user the Save-to-Drive is broken on Safari */
#safariWarning { display: none; }
#savetodrive-div:hover + #safariWarning {
  display:          block;
  background:       #75328AAA;
  color:            white;
  padding:          5px;
  margin-top:       75px;
  border-radius:    5px;
  font-size:        10pt;
  line-height:      1rem;
}

/* outOfDate warning */
#outOfDate {background: black; color: white; display: block; width: 100%; position: fixed; z-index: 9999;}

.left  { text-align: left!important; }
.right { text-align: right!important; }
.right img { margin-left: 15px; }
.center, .centered-image {
  display:          block;
  margin-left:      auto;
  margin-right:     auto;
  text-align:       center !important;
  padding:          1ex 0ex;
}

/*  RULES FOR GLOSSARY ITEMS AND VOCABULARY WORDS  */
.glossary           { margin-bottom: 20px; }
.glossary *         { display: inline; }
.glossary .title    { display: block; font-weight: bold; color: inherit;}
.glossary dt::after { content: '::'; margin: 0px 5px; }
.glossary dd        { margin: 0px; }
.glossary dd::after { content: '\A'; white-space: pre; }

.vocab { font-weight: bold; font-style: italic; color: #75328A; }

.sectionbreak {
  display:          block;
  width:            auto;
  border-bottom:    solid 3px black;
  margin:           5px 0px;
}

.tooltip { position: relative; }
.tooltip .tooltiptext {
  min-width:        120px;
  max-width:        66%;
  background-color: #555;
  color:            white;
  border-radius:    6px;
  padding:          5px 0;
  position:         absolute;
  top:              50%;
  left:             50%;
  text-align:       center;
  opacity:          0;
  transition:       all 0.3s;
  transform:        translateX(-50%) translateY(-50%);
}
.tooltip:hover .tooltiptext { opacity: 1; }

.alignedStandards { display: none; }
.coverageElement { display: none; }
.standard-menu-container {
  padding:          10px;
  display:          flex;
  justify-content:  space-between;
}
.standard-menu-container div:nth-child(1) { width: 75%; }
.standard-menu-container div:nth-child(2) { width: 25%;}

.quad   { display: inline-block; min-height: 15px; }
.vspace { display: inline-block; }

/* fill-in-the-blanks are where kids should write answers 
 * kids need more room, so we add some height to these elements
*/
.fitb, .fitbruby, .fitb.stretch::after {
  padding-top:        1rem; /* THIS IS HOW MUCH EXTRA HEIGHT TO ADD!*/
  display:            inline-block;
  min-width:          5em;
  text-align:         center;
  line-height:        1rem;
  border-bottom:      solid 1px black;
}

.fitbruby {
   position:          relative;
   margin-bottom:     1rem;
   padding:           0;
}

/* fill-in-the-blanks that stretch to the end of a line */
.fitb.stretch { 
  position:           relative; 
  margin-left:        5px; 
  vertical-align:     bottom; 
  width:              auto;
}
/* add an underline that goes past the end of the page */
.fitb.stretch::after { 
  content:"\00a0";
  width:              1000px;
  position:           absolute;
  left:               0;
  bottom :            -1px;
}

.lh-style li, .lh-style li p { line-height: 2rem; }
.lh-style .fitb { line-height: 1.6rem !important; }

.studentAnswer::before, .quad::before, .fitb::before,
.fitbruby::before {
  content: '\00200b';
}

.ruby {
  position:           absolute;
  bottom:             -1.1rem;
  text-align:         center;
  font-size:          0.65rem;
  font-weight:        normal;
  width:              100%;
  transform:          translate(-50%, 0);
}

/************************************************************************************
* NARRATIVE PAGE STYLES
*/
#lesson-list * {display:inline; margin-bottom: 0px; margin-left: 0px;}
#lesson-list dt { margin-top: 15px; display: inline-block;}
#lesson-list dd:after{ display: block; content: '';}
#lesson-list dd:before{ display: inline; content: '::'; font-weight: 900; }

.course-banner {
  font-style: italic;
  background: #B6D990aa;
  border: #75328A 1px dashed;
  padding: 5px;
  margin-bottom: 2rem;
}
.course-banner a {
  color: black;
  text-decoration: underline;
}

/************************************************************************************
* LESSON SIDEBAR
*/

@keyframes slideInFromLeft {
    0% { transform: translateX(-100%); }
  100% { transform: translateX(0);     }
}

.sidebar {
  animation:  0.5s ease-out 0s 1 slideInFromLeft;
  display:    block;
  position:   fixed;
  top:        0px;
  left:       0px;
  width:      225px;
  height:     100%;
  background: #e8f3dd;
  transition: all 0.5s;
  color:      black;
  box-shadow: -1px 2px 4px black;
  z-index:    9999;
  overflow:   scroll;
  user-select: none;
}
.sidebar.closed {
  left:  -225px;
  width: 265px;
  height: 30px;
}
.sidebar .paragraph { width: 205px; }
.sidebar #toggle:after { content: '≫'; font-size: 20px;}
.sidebar:not(.closed) #toggle:after { content: '«'; }

.sidebar #toggle {
  top:    0;
  right:  0;
  position: absolute;
  width:  40px;
  height: 30px;
  text-align:  center;
  border: 0;
  margin: 0 !important;
  background: #75328A77;
}

.sidebar > * { margin: 0px 10px !important; }
.sidebar label { display: inline; font-size: 0.8rem; }
.sidebar select { border:  none; }

.sidebar > *, .sidebar > * > * { opacity: 0.4; transition: opacity 0.5s; }
.sidebar:hover * { opacity: 1; }
.sidebar strong { color: black; margin: 0; }
.sidebar li { list-style-type: none; margin-bottom: 5px;}

.sidebarlessons { margin-top:  10px; }
.sidebarlessons input[type="checkbox"] { margin-right: 5px; }
.sidebar .sidebarlessons ul {
  background: white;
  margin:     0px;
  box-shadow: inset -1px 0px 2px gray;
  max-height: 250px;
  overflow:   scroll;
  padding:    10px;
  font-size:  0.8rem !important;
}
.sidebarlessons li:nth-child(odd) { background: #b7d89333; }
.sidebarlessons .prerequisite::after { content:'★'; }

.sidebar table { background: none !important; border: none; width: auto; }
.sidebar table td, .sidebar table tr { padding: 0; background: none; border: 0; }
.sidebar table .title { display: none; }
.sidebar dl * { font-size:  0.75rem !important; margin: 0; display: inline; }
.sidebar dl { line-height: 0.4rem; }
.sidebar dd::after { content: '\A'; white-space: pre; }
.sidebar dt::after { content: ' ·'; white-space: pre; font-size: 0.7rem; }
.sidebar table dt { margin-top: 10px; }

.sidebarpractices ul { font-size:  0.75rem !important; margin: 0; }
/************************************************************************************
* LESSON PAGE STYLES
*/

.LessonPlan h2 { font-size: 1.75em; font-weight: normal; }
.LessonPlan h3 { font-size: 1.5em; font-weight: 300;  }

/* The summary table at the top of each lesson */
.left-header tr td:nth-child(1) { background-color: #b7d893; }
.left-header tr td:nth-child(1) p { font-weight: bold; }

/* Styling for the Materials section of the Lesson Summary */
.preamble tr td > *{
  max-height: 150pt;
  overflow: hidden;
  text-overflow: ellipsis;
  transition: all 0.5s ease-out;
}
.preamble tr td:last-child > *{
  background:
    /* Shadow covers */
    linear-gradient(white 30%, rgba(255,255,255,0)),
    linear-gradient(rgba(255,255,255,0), white 70%) 0 100%,

    /* Shadows */
    radial-gradient(50% 0, farthest-side, rgba(0,0,0,.2), rgba(0,0,0,0)),
    radial-gradient(50% 100%,farthest-side, rgba(0,0,0,.2), rgba(0,0,0,0)) 0 100%;

    background:
    /* Shadow covers */
    linear-gradient(white 30%, rgba(255,255,255,0)),
    linear-gradient(rgba(255,255,255,0), white 70%) 0 100%,

    /* Shadows */
    radial-gradient(farthest-side at 50% 0, rgba(0,0,0,.2), rgba(0,0,0,0)),
    radial-gradient(farthest-side at 50% 100%, rgba(0,0,0,.2), rgba(0,0,0,0)) 0 100%;

  background-repeat: no-repeat;
  background-size: 100% 40px, 100% 40px, 100% 14px, 100% 14px;

  /* Opera doesn't support this in the shorthand */
  background-attachment: local, local, scroll, scroll;
}
.preamble tr:hover td > * {max-height: 1000px;}
.Optional, .OptProject, .handout {font-style: italic;}
.Optional::before, .OptProject::before, .handout::before { color: gray;}

/* Language Table */
.lang-features-table {
  display: table;
  z-index: 999;
  position: fixed;
  top:  50%;
  left: 50%;
  width: 500px;
  transform: translate(-50%, -50%);
  border:  solid 5px gray !important;
}
.lang-features-table * {
  margin:             0px;
  padding:            1px;
  font-size:          0.8rem;
}
.lang-features-table p { font-family: monospace; }
.lang-features-table .editbox { width: auto; }
.lang-features-table tr:first-of-type, .lang-features-table tr:first-of-type p {
  background-color:   lightgray;
  font-weight:        bold;
  text-align:         center;
  font-family:        inherit; /* Header row should not be monospace */
}
.lang-features-table .centered-image {
  display: inline; /* Override default image treatment */
}
.lang-features-table tr td:nth-child(1), .lang-features-table tr td:nth-child(1) p {
  background-color:   transparent;
  text-align:         center;
  vertical-align:     middle;
  font-family:        inherit; /* Type cell should not be monospace */
}
.standards-hierarchical-table ul li ul { display: none; }

/* Special links back to older, pre-remix materials */
.old-materials p { width:100%; background:#75328AAA; color:black; text-align:center; }

/* Headers, Sections, and section links */
.lesson-section-1, .lesson-section-1+.lesson-section-1 {
  clear:              both;
  border-top:         solid 2px black;
  display:            block;
}
.lesson-section-2    { clear: both; width: 100%; margin: 20px 0px; }
.lesson-section-2 h3 { font-size: 1.5rem; font-style: italic; margin: 0px; }
/* class for styling duration info in headers */
.duration { float: right; font-style: italic; font-weight: 200; min-width: 150px; text-align: right;}

.section-link a {
  margin-left:        -1.75em;
  padding-right:      0.5em;
  vertical-align:     middle;
  text-decoration:    none !important;
  font-size:          .9rem;
  position:           relative;
  left:               -2em;
}

.lesson-instruction, .lesson-roleplay {
  min-height: 50px;
  background: #eee;
  clear:      both;
  padding:    5px;
  margin:     2ex 0;
}
.lesson-instruction > *:first-child, 
.lesson-roleplay    > *:first-child { 
  margin-left: 60px; 
}

.lesson-instruction > *:first-child::before,
.lesson-roleplay    > *:first-child::before {
  content:  url('lesson-instruction.png');
  height:   50px;
  width:    50px;
  float:    left;
  margin-right: 10px;
  margin-left:-60px;
}
.lesson-roleplay    > *:first-child::before { content: url('lesson-roleplay.png') }

.lesson-point {
  font-weight:        bold;
  color:              black;
  border-style:       solid;
  margin:             2ex;
  border-width:       2px 0px;
  clear:              both;
}
.lesson-point p { margin: 0ex 1ex; }

/* Callout boxes */
.strategy-box, .notice-box {
  background:         #efefef;
  border:             solid 5px !important;
  width:              75%;
  margin:             15px auto;
  display:            block;
  clear:              both;
  position:           relative;
}
.strategy-box td, .notice-box td { width: 8in; }

.strategy-box, .strategy-box .title { border-color: #1a73b5 !important; }
.notice-box,   .notice-box   .title { border-color: #7747a5 !important; }

.strategy-box .title, .notice-box .title {
  width:              100%;
  display:            block;
  text-align:         center;
  font-weight:        bold;
  font-size:          1.5rem;
}

.strategy-box a, .notice-box a { color: blue; text-decoration: underline; }

.blank    { color: rgba(0,0,0,0); }
.logo     { float: right; }
.logo img { width: 400px; }

span.clear {
  clear:              both;
  display:            block;
  content:            "";
  width:              100%;
}

/* Images and Captions */
.image-figure .image-caption { 
  width:      100%; 
  max-width:  300px; 
  display:    inline-block; 
  font-style: italic; 
  line-height: 1.5ex;
  word-break: break-word;
}
.image-figure .image-caption::before { content: 'Source: '; }
/************************************************************************************
* WORKBOOK PAGES
*/
/* set page dimensions */
body.workbookpage:not(.landscape) {
  width: 7.5in; height: 9.75in; 
}
/* define 'landscape' page type */
body.workbookpage.landscape {
  width: 9.75in; height:  7.5in; page: landscape; }

/* we use the same font-size for print and screen, and zoom the page
 * in a @screen{...} CSS rule
 */
body.workbookpage, body.workbookpage #content,
body.workbookpage #preamble_disabled,
body.workbookpage #preamble_disabled .sectionbody {
  font-size: 9pt;
  padding:   0;
  display: flex; 
  flex-direction: column; 
  justify-content: flex-start; 
}
/* Make content of page as tall as possible */
body.workbookpage #content, body.workbookpage #preamble_disabled,
body.workbookpage #preamble_disabled .sectionbody,
body.workbookpage #preamble_disabled .sectionbody table.FillVerticalSpace { 
  flex-grow: 1;
}

body.workbookpage #content > .sect1 { flex-grow: 1; }

/* make .FillVerticalSpace tables use CSS grid layout */
body.workbookpage table.FillVerticalSpace { 
  display: grid;
  height: 100%;
  grid-template-columns: auto;
  grid-template-rows: max-content;
}
body.workbookpage table.FillVerticalSpace > *,
body.workbookpage table.FillVerticalSpace > * > tr {
  display: contents;
}
body.workbookpage table.FillVerticalSpace > colgroup { display: none; }

body.workbookpage table.FillVerticalSpace > * > tr > td { display: grid; position: relative; }
body.workbookpage table.FillVerticalSpace > * > tr > *.valign-middle { align-items: center; }

/* Make code match text size/layout */
body.workbookpage p .editbox, body.workbookpage pre .editbox { 
  line-height: 1rem; 
  vertical-align: baseline; 
  font-size: 9pt !important; 
}

body:not(.LessonPlan) #header { margin-bottom: 5px !important; }
body:not(.LessonPlan) #header> h1:first-child,
body:not(.LessonPlan) .sect1 > h1:first-child,
body:not(.LessonPlan) .sect1 > h2:first-child,
body:not(.LessonPlan) .sect1 > h3:first-child,
body:not(.LessonPlan) .sect2 > h3:first-child {
  width:            100%;
  padding:          5px 0px;
}

body:not(.LessonPlan) .description { display: none; }

.solution { font-style: italic; }

/**
 * Auto-numbering.
 * Add a right-paren, unless it's inside a table.
 */
.autonum::after { content: ')'; }
table .autonum::after { content: none; }

/************************************************************************************
* DESIGN RECIPE, DATA CYCLE, AND STUDENT ANSWER STYLING
*/

/* Data Cycle tables should have borders */
.data-cycle { border-collapse: collapse; }
.data-cycle td:first-of-type { background: lightgray; border: solid white; }
.data-cycle .ruby { color: #666; text-align: left; transform:  none; left: 0; }
.data-cycle td p,.data-cycle td p > * { font-size: 0.75rem; }
.data-cycle .fitbruby, .data-cycle .fitb { 
  text-align: left; font-style: italic; font-size:  1rem;
}

/* We use tables (perhaps not the best idea) for our DR headings */
table.recipe_title    { background: gray; border: gray; }
table.recipe_title td { padding: 0px; margin: 0px; border: none; vertical-align: middle;}
.recipe_title p { color: white; font-weight: bold; margin: 0px; padding-left: 10px; min-height:unset !important;}
.recipe_title td:last-child { border: 3px solid gray !important; }
.recipe_title td:last-child .content { width: 18px; height: 18px; background: white; }

/* Under a heading come the instructions */
.recipe_instructions * { font-style: italic; font-size: .85rem; }

/* all paragraph tags are full-width, with no margin. If pushed to a new line, they wrap */
body:not(.LessonPlan) .recipe p { display: flex; flex-wrap: wrap; }

/* All student answers have a bottom-border, and a "ruby" printed in black */
.recipe .studentAnswer { border-bottom: solid 1px black; }
.recipe .studentAnswer::after { color: black; }

/* All code is inside a wrapper, so apply the code font */
.wrapper p, .wrapper .studentAnswer { font-family: Hack, "Courier New", monospace; }

/* Note(Emmanuel): these could probably be a lot tighter */
.studentAnswerCode, .studentAnswer, .studentAnswerUnfilled,
.studentAnswerBlockUnfilled .studentBlockAnswerUnfilled,
.studentBlockAnswerFilled {
  margin-bottom:      0.85rem;
  min-width:          105pt;
  position:           relative;
  padding:            0;
  word-spacing:       4pt;
  display:            inline-block;
  border-bottom:      solid 1px black;
}

.studentAnswerCode::after, .studentAnswer::after {
  position:           absolute;
  bottom:             -1rem;
  left:               0;
  font-size:          .60rem;
  width:              100%;
  text-align:         center;
  font-style:         italic;
  font-family:        "Century Gothic";
  content:            "\00A0";
  word-spacing:       0;  /* don't inherit spacing from .studentAnswer */
}
.studentAnswerCode, .pyretkeyword { border-bottom: 0; min-width: unset;}
.studentAnswer      .pyretkeyword { margin-bottom: 0; margin-right: 0; }

.studentAnswerUnfilled, .studentBlockAnswerUnfilled,
.studentAnswerFilled,   .studentBlockAnswerFilled {
  min-width:          auto;
}

.studentAnswerFilled, .studentBlockAnswerFilled {
    border-bottom:    none;
    font-weight:      900;
    font-style:       italic;
    margin-bottom:    0;
    line-height:      inherit;
}

.studentAnswerShort  { min-width: 60pt;  }
.studentAnswerMedium { min-width: 100pt; }
.studentAnswerLong   { min-width: 140pt; }

/* CODAP-specific formatting */
/* TODO(Emmanuel): clean up once build script generates more consistent asciidoc */

.codap .transformer_type td:last-child .content { width: 0; height: 0px; background: none; }
.codap .transformer_type_checked td:last-child .content { width: 0; height: 0px; background: none; }

.codap .recipe_title .paragraph, .codap .recipe_title p { display: inline; }
.codap .recipe_name { display: flex; }

.codap .transformer_type,
.codap .transformer_type_checked {
  /* margin: 0 2.5rem; */
}

table.transformer_type td:first-of-type .content { display: flex; flex: row; }
table.transformer_type td:first-of-type .paragraph { white-space: nowrap; }

.codap .transformer_type p::before,
.codap .transformer_type_checked p::before {
  width: 1.1rem;
  height: 1.1rem;
  background: white;
  display: inline-block;
  margin:  0 2px 2px 0;
  vertical-align: middle;
}

.codap div.transformer_type p::before { content: ""; }
.codap div.transformer_type_checked p::before {
  content: "x";
  text-align: center;
  line-height: 1rem;
  color: black;
}

div.transformer_type, div.transformer_type_checked { margin-left: 2em; }

.recipe_formula, .codap_transformer { display:  flex; }
.codap_transformer p { width:  100%; }
.codap_example_tables+table table * { margin: 0; padding: 0; }
.codap_example_tables+table table * { text-align: center; height: 2rem; }
.codap .recipe_domain, .codap .recipe_range { width:  40%; }

/* Maximize space for Domain, Purpose, and example/definition bodies */
.recipe_domain, .recipe_purpose,
.wescheme .wrapper p > *:nth-last-child(2),
.pyret    .wrapper p > *:nth-last-child(1) {
  flex-grow:  1;
}

.recipe_word_problem { min-height: 0.65in; }
.recipe_domain, .recipe_range, .recipe_example_inputs, .recipe_variables {
  text-align: center;
}

.recipe_cond { flex-grow: unset !important; min-width:  10%; }
.recipe_name          { min-width: 20%; }
.recipe_range         { min-width: 12%; }
.recipe_example_inputs{ min-width: 20%; white-space: nowrap; }
.recipe_variables     { min-width: 30%; white-space: nowrap; }

/* in solutions mode, use the smallest possible space for function name */
.solution.recipe_name { min-width: 6em; }
.pyret .solution.recipe_name { text-align: right; } /* no whitespace in pyret */

/* Special styling for purpose statements (includes lang-specific comment) */
.recipe_purpose, .recipe_contract .recipe_name {
  padding-left:         2ex;
  background-repeat-x:  no-repeat;
  background-size:      0.4rem calc(1rem + 8pt);
  background-position-y:4pt;
  background-image:     url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAA3CAYAAADaFLDwAAAK5WlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUk1kWx9/3pTdaIBQpoTdBOgGkhB66dBCVkIQklBBSULErgyM4FkREQBnQEREFR0dAxoJYsCLYwDogg4q6DhZsqOwHLGFm9uzu2XvOy/vl5r777v3Oezn/DwBKClsszoJVAMgWySTRQb70xKRkOm4I4IE+wAEasGBzpGJmVFQYQGx6/qu9vwOgifmmzUSuf//9v5oalyflAAClIJzGlXKyEW5HxjeOWCIDAIUwMF4sE0/w7wirS5ACEf44wfxJRpMnOG2K6ZMxsdF+CDsBgCez2RI+AGQfxE/P4/CRPORUhO1EXKEI4S0Ie3EEbC7C3QjPzs7OmeAvCFsg8WIAKCYIM9L+lJP/l/xpivxsNl/BU31NGt5fKBVnsZf+n4/mf1t2lnx6DzNkkAWS4Ogphvoyc0IVLEqLiJxmIXc6HuoTyIPjppkj9UueZi7bP1SxNisibJrThYEsRR4ZK3aaedKAmGmW5EQr9kqX+DGnmS2Z2VeeGafwC3gsRf58QWzCNOcJ4yOmWZoZEzoT46fwS+TRivp5oiDfmX0DFb1nS//Ur5ClWCsTxAYremfP1M8TMWdyShMVtXF5/gEzMXGKeLHMV7GXOCtKEc/LClL4pXkxirUy5HDOrI1SPMMMdkjUNINYIAByIAJcwAMSkAZyQBaQATrwB0IgBWLkGxsgx0nGWyKbaM4vR7xUIuQLZHQmcgN5dJaIYzub7mDnYA/AxH2eOiJvaZP3FKJdnvHltgPgVoQ4+TM+tjEAx58AQH0/4zN+M3VXTnZz5JK8KR964gMDiEAZqANt5P/CGFgAG+AAXIAH8AEBIAREIp0kgYWAg/STjXSyGCwHa0AhKAZbwHZQAarBHrAfHAJHQAs4Ac6AC+AK6Aa3wX3QD4bACzAC3oMxCIJwEAWiQtqQAWQKWUMOEAPyggKgMCgaSoJSIT4kguTQcmgdVAyVQBVQDVQP/Qwdh85Al6Ae6C40AA1Db6DPMAomw+qwHmwGz4EZMBMOhWPhBTAfzoXz4QJ4E1wO18IH4Wb4DHwFvg33wy/gURRAkVA0lCHKBsVA+aEiUcmodJQEtRJVhCpD1aIaUW2oTtRNVD/qJeoTGoumouloG7QHOhgdh+agc9Er0RvRFej96Gb0OfRN9AB6BP0NQ8HoYqwx7hgWJhHDxyzGFGLKMPswxzDnMbcxQ5j3WCyWhjXHumKDsUnYDOwy7EbsLmwTth3bgx3EjuJwOG2cNc4TF4lj42S4QtxO3EHcadwN3BDuI56EN8A74APxyXgRfi2+DH8Afwp/A/8UP0ZQIZgS3AmRBC5hKWEzYS+hjXCdMEQYI6oSzYmexFhiBnENsZzYSDxPfEB8SyKRjEhupHkkIWk1qZx0mHSRNED6RFYjW5H9yClkOXkTuY7cTr5LfkuhUMwoPpRkioyyiVJPOUt5RPmoRFWyVWIpcZVWKVUqNSvdUHqlTFA2VWYqL1TOVy5TPqp8XfmlCkHFTMVPha2yUqVS5bhKr8qoKlXVXjVSNVt1o+oB1Uuqz9RwamZqAWpctQK1PWpn1QapKKox1Y/Koa6j7qWepw6pY9XN1VnqGerF6ofUu9RHNNQ0nDTiNZZoVGqc1OinoWhmNBYti7aZdoR2h/ZZU0+TqcnT3KDZqHlD84PWLC0fLZ5WkVaT1m2tz9p07QDtTO2t2i3aD3XQOlY683QW6+zWOa/zcpb6LI9ZnFlFs47MuqcL61rpRusu092je1V3VE9fL0hPrLdT76zeS32avo9+hn6p/in9YQOqgZeB0KDU4LTBc7oGnUnPopfTz9FHDHUNgw3lhjWGXYZjRuZGcUZrjZqMHhoTjRnG6calxh3GIyYGJuEmy00aTO6ZEkwZpgLTHaadph/MzM0SzNabtZg9M9cyZ5nnmzeYP7CgWHhb5FrUWtyyxFoyLDMtd1l2W8FWzlYCq0qr69awtYu10HqXdc9szGy32aLZtbN7bcg2TJs8mwabAVuabZjtWtsW21dzTOYkz9k6p3PONztnuyy7vXb37dXsQ+zX2rfZv3GwcuA4VDrccqQ4Bjqucmx1fO1k7cRz2u3U50x1Dnde79zh/NXF1UXi0ugy7Grimupa5drLUGdEMTYyLrph3HzdVrmdcPvk7uIucz/i/oeHjUemxwGPZ3PN5/Lm7p076Gnkyfas8ez3onulev3o1e9t6M32rvV+7GPsw/XZ5/OUacnMYB5kvvK185X4HvP94Ofut8Kv3R/lH+Rf5N8VoBYQF1AR8CjQKJAf2BA4EuQctCyoPRgTHBq8NbiXpcfisOpZIyGuIStCzoWSQ2NCK0Ifh1mFScLawuHwkPBt4Q8iTCNEES2RIJIVuS3yYZR5VG7Ur/Ow86LmVc57Em0fvTy6M4YasyjmQMz7WN/YzbH34yzi5HEd8crxKfH18R8S/BNKEvoT5ySuSLySpJMkTGpNxiXHJ+9LHp0fMH/7/KEU55TClDsLzBcsWXBpoc7CrIUnFykvYi86mopJTUg9kPqFHcmuZY+msdKq0kY4fpwdnBdcH24pd5jnySvhPU33TC9Jf8b35G/jDwu8BWWCl0I/YYXwdUZwRnXGh8zIzLrM8ayErKZsfHZq9nGRmihTdC5HP2dJTo/YWlwo7s91z92eOyIJleyTQtIF0laZOiKcrsot5N/JB/K88irzPi6OX3x0ieoS0ZKrS62Wblj6ND8w/6dl6GWcZR3LDZevWT6wgrmiZiW0Mm1lxyrjVQWrhlYHrd6/hrgmc821tXZrS9a+W5ewrq1Ar2B1weB3Qd81FCoVSgp713usr/4e/b3w+64Njht2bvhWxC26XGxXXFb8ZSNn4+Uf7H8o/2F8U/qmrs0um3dvwW4Rbbmz1Xvr/hLVkvySwW3h25pL6aVFpe+2L9p+qcyprHoHcYd8R395WHnrTpOdW3Z+qRBU3K70rWyq0q3aUPVhF3fXjd0+uxur9aqLqz//KPyxryaoprnWrLZsD3ZP3p4ne+P3dv7E+Kl+n86+4n1f60R1/fuj95+rd62vP6B7YHMD3CBvGD6YcrD7kP+h1kabxpomWlPxYXBYfvj5z6k/3zkSeqTjKONo4y+mv1Qdox4raoaalzaPtAha+luTWnuOhxzvaPNoO/ar7a91JwxPVJ7UOLn5FPFUwanx0/mnR9vF7S/P8M8MdizquH828eytc/POdZ0PPX/xQuCFs53MztMXPS+euOR+6fhlxuWWKy5Xmq86Xz12zfnasS6Xrubrrtdbu92623rm9py64X3jzE3/mxdusW5duR1xu+dO3J2+3pTe/j5u37O7WXdf38u7N3Z/9QPMg6KHKg/LHuk+qv3N8remfpf+kwP+A1cfxzy+P8gZfPG79PcvQwVPKE/Knho8rX/m8OzEcOBw9/P5z4deiF+MvSz8h+o/ql5ZvPrlD58/ro4kjgy9lrwef7PxrfbbundO7zpGo0Yfvc9+P/ah6KP2x/2fGJ86Pyd8fjq2+AvuS/lXy69t30K/PRjPHh8XsyXsSSmAQgacng7AmzpELych2gHR0sT5U3p70qCpd4RJAv+JpzT5pLkAUOcDQNxqAMIQjbIbGaYIk5F5QibF+gDY0VEx/mXSdEeHqVxkRG1iPo6Pv9UDANcGwFfJ+PjYrvHxr3uRYu8C0J47pfMnDIu8/ZSYa1JITtfytq8Gf7Opd4A/9fj3GUxU4AT+Pv8T0qEibp8kHbwAAADmZVhJZk1NACoAAAAIAAgBBgADAAAAAQACAAABEgADAAAAAQABAAABGgAFAAAAAQAAAG4BGwAFAAAAAQAAAHYBKAADAAAAAQACAAABMQACAAAAGAAAAH4BMgACAAAAFAAAAJaHaQAEAAAAAQAAAKoAAAAAAAAASAAAAAEAAABIAAAAAUZseWluZyBNZWF0IEFjb3JuIDcuMC4zADIwMjE6MDg6MzAgMjE6MjY6NTEAAAOShgAHAAAAEgAAANSgAgAEAAAAAQAAAAugAwAEAAAAAQAAADcAAAAAQVNDSUkAAABTY3JlZW5zaG90pf3x3gAAAAlwSFlzAAALEwAACxMBAJqcGAAABAZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8dGlmZjpDb21wcmVzc2lvbj4xPC90aWZmOkNvbXByZXNzaW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzI8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MjA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+ODY8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkZseWluZyBNZWF0IEFjb3JuIDcuMC4zPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDIxLTA4LTMwVDIxOjI2OjUxPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CgCXV6kAAAFvSURBVEgN7VS9roIwFC4/jsLKYKIbq4MJkpjA5Maig+9ieAcnVxKJjLwCrAzEMLExmPgOhKg5lza3TbVqvInDvTc0If1Kv/Od03NOi9A/H9L9+YqigDAM0fl8RqvVCs1mM4FDbJIkgV6vB+2CfJIkQRRFGIvDcRxGbHcJHo1Gj8nD4VAgq6oKl8uFGMi8vmVZ/JLgyWSCWgMx7uPxCKZpMvXBYAD4wFRBul6voCgKs6zrGrIsI9mwbRv1+322R426+c9mAJf73eCFuud5Dvv9HrUiaLlcItd1BQ4RT9MUNxXrOlmWIY7jx54XiwUjttYEj8djRpb5mJumEcIvy5L9k/le9jyPbVCgaRqFtzP2sl6vwTAMFs50OmVh3LK5Fb1evu+/Jh8OB6KM342qql6T5/M5IX9nh/N3B7fbLSHqug6n0+m5anur2fO12+2eE7GDIAiI6mazeU2k0eCSU9zNn8sA3/yfU+2UfmkGflLuL0Ytq5FOYk77AAAAAElFTkSuQmCC');
}
.pyret .recipe_purpose, .pyret .recipe_contract .recipe_name {
  background-size:       0.8rem calc(1rem + 10pt);
  background-position-y: 0pt;
  background-image:      url('data:image/png;base64,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');
}
.codap .recipe_purpose, .codap .recipe_contract .recipe_name {
  background-image: none;
}

.recipe_contract { background-repeat-y: no-repeat; }

.recipe_example_body { margin-left: 1em;}

/* Piecewise Functions (ask/cond) branches */
.wescheme .questions  { width: 44%; }
.wescheme .answers    { width: 45%; }
.pyret    .questions  { width: 39%; }
.pyret    .answers    { width: 44%; }
.cond_clauses { position: relative; width: 100%; }
.cond_clauses .studentAnswer { border-bottom: solid 1px black; }
.wescheme .cond_clauses::after {  /* Add trailing parens for WeScheme */
  content: ') )';
  position: absolute;
  left: 98%;
  bottom: 1rem;
  font-size: inherit;
}

/************************************************************************************
* TEACHER RESOURCES PAGE
*/


/* Exercises and Solutions Table */
table.exercises_and_solutions, table.exercises_and_solutions * {
  border:             0px !important;
  padding:            0px;
  background:         none !important;
}
table.exercises_and_solutions table td p { margin: 0px; }
table.exercises_and_solutions table td:last-child { text-align: right; }
table.exercises_and_solutions>tbody>tr>td:first-child * { font-weight: bold; }
table.exercises_and_solutions tr td:last-child .content {
  max-height:         0px;
  overflow:           hidden;
  text-overflow:      ellipsis;
  display:            block;
}
table.exercises_and_solutions > tbody > tr:hover > td:last-child  .content {
  max-height: 300px; overflow-y: auto;
}
table.exercises_and_solutions table * { background: none !important; }
table.exercises_and_solutions tr:hover {background: #7532892f !important; }
table.exercises_and_solutions table tr:hover a {color: white; text-decoration: underline;}

.pathway_external_links ul li { margin-top: 3ex 0ex; list-style-type: none; }

table.contract-table tr:nth-child(4n+3),
table.contract-table tr:nth-child(4n+4) { background-color: #f2f2f2; }

td.tableblock .listingblock { margin-bottom: 0 !important; }

/************************************************************************************
* FORMATTING OF CIRCLES, AND TEXT CODE
*/

/* override asciidoc default when bold-facing text inside code-blocks */
.pyret strong, .wescheme strong { margin: 0; padding: 0; }

div.codesexp, div.circleevalsexp, .editbox, .cm-s-scheme, .CodeMirror {
  font-family: Hack, "Courier New", monospace;
}

td.halign-center div.circleevalsexp { text-align: center; }

div.circleevalsexp .expression {
  display:            inline-block;
  padding-top:        6px;
  margin:             2px 5px;
  clear:              none;
  border:             2px solid black;
  background:         white;
  text-align:         center;
  border-radius:      20px;
  -moz-border-radius: 20px;
  -webkit-border-radius:20px;
}

div.circleevalsexp .value {
  display:            inline-block;
  margin:             0.65rem 0.5rem;
  vertical-align:     top;
}

div.circleevalsexp .operator {
  display:            block;
  height:             1.1rem;
  text-align:         center;
  line-height:        0.5rem;
  width:              100%;
  border-bottom:      solid 2px black;
  border-radius:      15px 15px 0px 0px;
}

/* Display ONLY 5px hspaces that are after the first one (keeps args centered) */
div.circleevalsexp .hspace { display: none; }
div.circleevalsexp .hspace ~ .hspace { display: inline-block; width: 0.5ex; }

/* When in operator position, drop the margins */
div.circleevalsexp .operator .value { margin: 0 0.5rem; }
/* Don't show parens in Circle mode */
div.circleevalsexp .lParen, div.circleevalsexp .rParen { display: none; }

div.codesexp, div.circleevalsexp, .editbox, .cm-s-scheme {
  width:              100%;
  margin:             0px 3px;
  display:            inline-block;
  padding:            0px;
  font-size:          0.8rem;
  color:              #666;
  font-style:         normal;
  clear:              both;
}

.editbox {
  width:              auto;
  background-color:   #f7f7f8;
  margin:             2px;
  padding:            0 2px;
  text-align:         left;
}
.editbox:empty { display: none; } /* If empty after JS post-processing, hide */
p .editbox { line-height: 1.2rem; vertical-align: baseline; font-size: 9pt; }

/* WESCHEME COLORS */
.wescheme-string,     .cm-scheme-string   { color: green;}
.wescheme-number,     .cm-scheme-number   { color: blue;}
.wescheme-boolean,    .cm-scheme-boolean  { color: darkred;}
.wescheme-character,  .cm-scheme-character{ color: orange;}
.wescheme-symbol,     .cm-scheme-symbol   { color: steelblue;}
.wescheme-comment,    .cm-scheme-comment  { color: orange; }
span.cm-scheme-punctuation                { color: black;}
span.cm-scheme-rparen                     { color: black;}

/* PYRET COLORS */
.cm-s-default.CodeMirror                  { color: black; }
.cm-comment                               { color: #cd7054; }
.cm-boolean                               { color: darkred; }
.cm-builtin                               { color: #555; }
.cm-variable                              { color: #4d5966; }
.cm-keyword                               { color: black; font-weight: bold; }
.cm-number                                { color: navy; }
.cm-roughnum                              { color: blue; }
.cm-bad-number                            { color: red; font-weight: bold; }
.cm-string                                { color: forestgreen; }
.cm-type                                  { color: #374049; }
.cm-function-name                         { color: #374049; }
.cm-unterminated-string                   { color: red; font-weight: bold; }
.pyretkeyword                             { font-weight: 900; margin-right: 1ex; }

/* class for tables containing Pyret data */
table.pyret-table {
  border-collapse:    collapse;
  width:              100%;
  table-layout:       auto;
  display:            table!important;
  border:             1px black solid;
  border-radius:      1em;
  overflow:           hidden;
  background:         #eee;
}
table.pyret-table tr:nth-child(even){background-color: #f2f2f2}
table.pyret-table thead { box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.2); }
table.pyret-table td p { margin: 0px; }
table.pyret-table td, table.pyret-table th {
  border:             none;
  border-right:       1px white solid;
  color:              #1f1180;
  font-family:        monospace;
}

table.sideways-pyret-table p { margin: 0px }
table.sideways-pyret-table tr { background: none; text-align: right; }
table.sideways-pyret-table td:first-child {
  display: table-cell;
  background: #cccccc;
  text-align: center;
  width: 50px;
}
table.sideways-pyret-table td:first-child p { font-weight: bold; }

.obeyspaces { white-space: pre-wrap; }

div.leftColumn .obeyspaces, div.rightColumn .obeyspaces {
  display: inline-block;
}

.codetwo {
  font-family: Hack, "Courier New", monospace;
  font-size: 0.85rem;
  background-color: #f7f7f8;
  color: #666;
  word-break: break-word;
}

/************************************************************************************
 * CONTRACT TABLES
 */
table.contracts-table {border-collapse: collapse;}
table.contracts-table p { margin-top: 0; }
table.contracts-table tr:nth-child(odd) {border-top: solid 2px black;}
table.contracts-table td {padding: .1em .625em !important; height: 23pt;}

/************************************************************************************
* DATASHEETS (currently disabled)

.question { font-style: normal; font-weight: bold; }
.question p { font-weight: bold; }
.optional::before { content: none; }
.datasheetpage .sect1 { margin-top: 3.5ex; }
.question:first-child { margin-top: 2ex; }
.question:not(:first-child) { margin-top: 2.5ex; }
.answer { margin-top: 1.5ex; }
.answer:last-child { margin-bottom: 3.5ex; }

*/

/************************************************************************************
* SCREEN MEDIA
*/
@media screen {
  html { height: 100%; display:  flex; }

  .web-page-only {
    font-weight:      bold;
    font-style:       italic;
    line-height:      2.5rem;
  }
  body.nonworkbookpage { width: auto !important; }

  /* on WB pages, set font size to same as print and then zoom the page */
  body.workbookpage {
    transform-origin: left top; 
    transform: scale(1.25); 
    min-height: calc(11in * 1.25) !important;
  }
  body.workbookpage #savetodrive-div { transform: scale(0.8); }

  /* add some left-padding to improve readability on screens */
  body.workbookpage, body.LessonPlan #body { padding-left: 3em; }


  /********************************************************************
   *  Collapsing Headers 
   */

  /* add a bottom padding to prevent browser-scroll */
  .LessonPlan #body, .TeacherResources .LessonPlan #body {padding-bottom:  10in;}
  
  /* adjust colors */
  .LessonPlan h2, .TeacherResources .sect1 h2 {
    background-color: #75328A77;
    color: white;
    font-weight: 600;
    cursor: pointer;
    padding: 5px !important;
    width: 100%;
    border: none;
    text-align: left;
    outline: none;
  }
  .LessonPlan h2.active, .LessonPlan h2:hover,
  .TeacherResources .sect1 h2.active, .TeacherResources .sect1 h2:hover { 
    background-color: #b7d893; 
  }
  .LessonPlan h2.active,       .TeacherResources .sect1 h2.active { color: white; }

  /* add the plus/minus signs ("expand me" / "collapse me") for discoverability */
  .LessonPlan h2:after, .TeacherResources .sect1 h2:after {
    content: '\002B';
    color: white;
    font-weight: bold;
    float: left;
    margin-right: 5px;
  }
  .LessonPlan h2.active:after, .TeacherResources .sect1 h2.active:after { content: "\2212"; }

  /* set collapsed size and transition rules */
  .LessonPlan .sect1.lesson-section-1 .sectionbody,    .TeacherResources .sect1 .sectionbody {
    padding: 0 18px;
    max-height: 100px;
    overflow: hidden;
    transition: max-height 0.2s ease-out;
    position: relative;
  }
  
  /* Add a white fade to hint for discoverability */
  .LessonPlan .sect1.lesson-section-1 .sectionbody::after, .TeacherResources .sect1 .sectionbody::after {
    content  : "";
    position : absolute;
    z-index  : 1;
    bottom   : 0;
    left     : 0;
    pointer-events   : none;
    background-image : linear-gradient(to bottom, 
                      rgba(255,255,255, 0), 
                      rgba(255,255,255, 1) 90%);
    width    : 100%;
    height   : 10em;
  }
  .LessonPlan .sect1.lesson-section-1 h2:hover+.sectionbody:after,
  .TeacherResources .sect1 h2:hover+.sectionbody:after { height: 4em; }
  
   /* don't add the fade for summaries or active sections */
  .LessonPlan .lessonSummary .sectionbody { max-height: unset; }
  .LessonPlan .lessonSummary .sectionbody::after,
  .LessonPlan h2.active+.sectionbody::after,
  .TeacherResources h2.active+.sectionbody::after { display: none;}
  .LessonPlan .sect1.lesson-section-1 h2:not(.active)+.sectionbody h3 { display: none; }
}

/************************************************************************************
 * PRINT MEDIA
 */
@page { size: letter portrait; margin: 0.5in; }
@page landscape { size: letter landscape; margin: 0.5in; }

@media print {
  /* Elements we don't want printed */
  ::-webkit-scrollbar { display:  none; }
  a[href]::after { content: none !important; }
  #savetodrive-div, .copyright, #footer, #outOfDate, .web-page-only, .section-link,
  .acknowledgment, .sidebar, .CodeMirror div.CodeMirror-cursor, #MathJax_Message {
   display: none !important; visibility: hidden; float: none;
  }
  /* Even when invisible, flex-grow will take up space */
  body.workbookpage #content > .acknowledgmentsect:last-child { flex-grow: 0; }

  /* Override AsciiDoc print default */
  p {margin: 0px; font-size: 1rem; font-weight: normal;}
  #content { margin: auto; }

  /* Page breaks in lesson content*/
  div#body{ position: static; } /* page-break fails on absolute positioning */
  .LessonPlan .lessonSummary {
    break-after:  page !important;
    page-break-after:  always !important;
  }
  .LessonPlan .lesson-section-1 {
    break-before: page !important;
    page-break-before: always !important;
  }
  .lesson-section-2 p, .notice-box, .strategy-box, .circleevalsexp, .image,
  img, .MathJax, #_additional_exercises + .sectionbody {
    break-inside: avoid !important; page-break-inside: avoid !important;
  }
  h3, h2 { break-after: avoid !important; page-break-after: avoid !important; }
  h3+.paragraph, h2+.paragraph { break-before: avoid !important; page-break-before: avoid !important; }
  table { break-inside: auto; }
  tr td { page-break-inside: avoid !important; break-inside: avoid !important; page-break-after: auto; }
  thead { display: table-header-group; }
  tfoot { display: table-footer-group; }

  /* Change coloring of body text, lesson summary table, code, and WB page headers */
  html { -webkit-print-color-adjust: exact; }
  div#body, body { color: black; }
  .LessonPlan .left-header tr td:nth-child(1) { background-color: lightgray; }
  .LessonPlan .sect1+.sect1 { border-top: solid 3px black; }
  :not(body.LessonPlan) #header { background: black; color: white; }
  .listingblock pre:not(.highlight) { background: none !important; }

  /* Get rid of collapsing headers */
  .sect1.lesson-section-1, .sect1.lesson-section-1 .sectionbody { max-height: unset !important; }

  body:not(.LessonPlan) #header> h1:first-child,
  body:not(.LessonPlan) .sect1 > h1:first-child{
    background:       black;
    color:            white;
    text-align:       center;
    padding:          1px;
  }

  body:not(.LessonPlan) .lesson-section-1 { border: none; }
  body:not(.LessonPlan) .sect1 > h2:first-child,
  body:not(.LessonPlan) .sect1 > h3:first-child,
  body:not(.LessonPlan) .sect2 > h3:first-child {
    background:   #ccc;
    font-weight:  600;
    font-size:    12pt;
    padding-left: 5px;
  }

  /***** Change sizes:  HERE BE DRAGONS!!!!! ******/
  html, body { font-size:      9pt; }
  .questions    { min-width: 36%; width: auto; }
  .answers      { width: auto; }
}
